<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 【笔记】《编写可读代码的艺术》前端篇 | Wayne的博客</title><meta name="description" content="【笔记】《编写可读代码的艺术》前端篇 - Micheal Wayne"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/scss/casual.css"><link rel="stylesheet" href="/css/icon.css"><link rel="search" type="application/opensearchdescription+xml" href="http://blog.michealwayne.cn/atom.xml" title="Wayne的博客"></head><script>(function (w) {w.frontjsConfig={token:"81a82620fb0dca7680f2f06be134fa4f",behaviour:8,FPSThreshold:10};w.frontjsTmpData = {r:[],e:[],l:[]};w.frontjsTmpCollector = function (ev) {(ev.message ? window.frontjsTmpData.e : window.frontjsTmpData.r).push([new Date().getTime(), ev])};w.FrontJS = {addEventListener: function (t, f) {w.frontjsTmpData.l.push([t, f]);return f;},removeEventListener: function (t, f) {for (var i = 0; i < w.frontjsTmpData.l.length; i++) {t === w.frontjsTmpData.l[i][0] && f === w.frontjsTmpData.l[i][1] && w.frontjsTmpData.l.splice(i, 1);}return f;}};w.document.addEventListener("error", w.frontjsTmpCollector, true);w.addEventListener("error", w.frontjsTmpCollector, true);w.addEventListener("load", function () {var n = w.document.createElement("script");n.src = "https://frontjs-static.pgyer.com/dist/current/frontjs.web.min.js"; w.document.body.appendChild(n);}, true);})(window);</script><body><div class="header"><header class="site-header"><div class="site-nav"><span class="button-toggle"></span><div class="container"><div class="nav-item"><a href="/" target="_self" data-text="home">Home</a></div><div class="nav-item"><a href="/archives" target="_self" data-text="archive">Archive</a></div><div class="nav-item"><a href="/about" target="_self" data-text="about">About</a></div></div><form id="search-form" class="nav-item"><input type="text" id="local-search-input" name="q" results="0" placeholder="search" autocomplete="off" autocorrect="off" class="search form-control"><span onclick="resetSearch()" class="fa fa-times"> </span></form><div id="local-search-result"></div><p class="no-result">No results found</p></div></header></div><div class="main"><div class="container"><div class="content"><div class="post"><article class="post-block"><h1 class="post-title">【笔记】《编写可读代码的艺术》前端篇</h1><span class="post-date">Aug 21, 2018</span><span class="post-tag"><a href="/tags/笔记/">笔记</a><a href="/tags/代码规范/">代码规范</a></span><img src="/images/write/bg.png" class="bgimage"><div class="post-content"><h1 id="《编写可读代码的艺术》前端篇"><a href="#《编写可读代码的艺术》前端篇" class="headerlink" title="《编写可读代码的艺术》前端篇"></a>《编写可读代码的艺术》前端篇</h1><blockquote>
<p>学会代码自然化，不被其他开发打。</p>
</blockquote>
<h2 id="命名"><a href="#命名" class="headerlink" title="命名"></a>命名</h2><p>无论是命名变量、函数、类，都可以使用很多相同的原则。某种程度上来说，变量也是一种注释。核心：<strong>把信息装入名字中</strong>。</p>
<h3 id="选择专业的词"><a href="#选择专业的词" class="headerlink" title="选择专业的词"></a>选择专业的词</h3><p>命名时尽量选择专业词并且避免使用空洞的词。</p>
<ul>
<li>比如有这么个函数为<code>getPage(url)</code>，我们虽然可以知道是获取一个页面，但是如果用<code>fetchPage</code>或者<code>downloadPage</code>进行更具体的动作区分命名会更好。</li>
<li>再比如有个函数为<code>getSize()</code>，更为形象化的话可以命名为<code>getHeight()</code>、<code>getNodeNum()</code>、<code>getArrLength()</code></li>
<li>再比如有个函数为<code>stopAnimation()</code>，我们不知道它将是终止动画还是中止动画，我们可以命名为<code>killAnimation()</code>、<code>pauseAnimation()</code>。</li>
</ul>
<p>下面是一些例子，这些单词可以使命名更有表现力且适合语境（还是得学好英语呐）：</p>
<table>
<thead>
<tr>
<th>单词</th>
<th>更多选择</th>
</tr>
</thead>
<tbody>
<tr>
<td>send</td>
<td>deliver、dispatch、announce、distribute、route</td>
</tr>
<tr>
<td>find</td>
<td>search、extract、locate、recover</td>
</tr>
<tr>
<td>start</td>
<td>launch、create、begin、open</td>
</tr>
<tr>
<td>make</td>
<td>create、set up、build、generate、compose、add、new</td>
</tr>
</tbody>
</table>
<h3 id="避免使用像val、tmp和retval这样泛泛的名字"><a href="#避免使用像val、tmp和retval这样泛泛的名字" class="headerlink" title="避免使用像val、tmp和retval这样泛泛的名字"></a>避免使用像val、tmp和retval这样泛泛的名字</h3><p>与其使用这样空洞的名字，不如挑一个能描述这个实体的值或者目的的名字。<br>如<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">factorial</span> (<span class="params">len</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> retval = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; len; i++) &#123;</span><br><span class="line">        retval += i;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> retval;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这里的retval我们可以用更贴切的名字，如sumMults，这样就提前声明了这个变量的目的。</p>
<h4 id="泛泛名字的意义"><a href="#泛泛名字的意义" class="headerlink" title="泛泛名字的意义"></a>泛泛名字的意义</h4><p>有些情况下泛泛的名字也有承载着意义，就是说明当前语境下这个名字应该平平无奇。</p>
<p>如tmp用于短期存在且临时性为其主要存在因素的变量。如交换变量<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (right &lt; left) &#123;</span><br><span class="line">    tmp = right;</span><br><span class="line">    right = left;</span><br><span class="line">    left = tmp;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>因为这个变量唯一的目的就是临时存储，它的整个生命周期只在几行代码之间，它没有其他职责。</p>
<p>当然我们可以在其基础之上丰富情景，如right和left都是数字，我们可以命名为tmpNum，right和left都是文件时，我们可以命名为tmpFile。</p>
<h4 id="循环迭代器"><a href="#循环迭代器" class="headerlink" title="循环迭代器"></a>循环迭代器</h4><p>像i、j、iter和it等名字常用作索引和循环迭代器，虽然很空泛但是大家都知道它们的意思。</p>
<p>当然我们可以在其基础之上丰富情景，如循环对象为人员名单数组，那么索引可以命名为people_i或peopleI，也可以简化为pi。</p>
<blockquote>
<p>养成习惯多花几秒钟想出个好名字，你会发现你的“命名能力”很快提升。</p>
</blockquote>
<h3 id="用具体的名字替代抽象名字"><a href="#用具体的名字替代抽象名字" class="headerlink" title="用具体的名字替代抽象名字"></a>用具体的名字替代抽象名字</h3><p>假如你有个方法函数叫serverCanStart()，它检测服务是否可以监听某个给定的TCP/IP端口，然而我们可以命名为canListenOnPort()，这个名字直接地描述了这个方法要做什么事情。</p>
<p>如有个程序我们设置了命名标识叫做<code>--run_locally</code>，可以看出是本地运行，但我可以更具体，如<code>--extra_logging</code>、<code>--use_local_database</code>。</p>
<h3 id="为名字附带更多信息"><a href="#为名字附带更多信息" class="headerlink" title="为名字附带更多信息"></a>为名字附带更多信息</h3><p>如果一个变量有什么重要性信息，那么值得吧额外的词添加到名字中。如我们定义了个变量为id，如果它将是哈希值的话，可以改为hash_id，如果是二进制数值id，可以改为binary_id。</p>
<h4 id="带单位的值"><a href="#带单位的值" class="headerlink" title="带单位的值"></a>带单位的值</h4><p>假如我们用Date对象写了一串代码用于统计执行时间：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> start = +<span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// runing...</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> elapsed = +<span class="keyword">new</span> <span class="built_in">Date</span>() - start;</span><br></pre></td></tr></table></figure></p>
<p>如果我们给两个变量结尾都追加_ms，可以让所有的地方更明确：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> start_ms = +<span class="keyword">new</span> <span class="built_in">Date</span>();</span><br><span class="line"></span><br><span class="line"><span class="comment">// runing...</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">let</span> elapsed_ms = +<span class="keyword">new</span> <span class="built_in">Date</span>() - start;</span><br></pre></td></tr></table></figure></p>
<p>除了时间，我们可能还有其他可带单位的命名，体积大小size_mb、网络限速max_kbps等等等等。</p>
<h4 id="附带其他重要属性"><a href="#附带其他重要属性" class="headerlink" title="附带其他重要属性"></a>附带其他重要属性</h4><p>对于这个变量存在危险或者意外的任何时候你都该采用它。</p>
<p>例如，很多安全漏洞来源于没有意识到你的程序接受到的某些数据还没有处于安全状态。这种情况下，你可能想要使用像untrustedUrl或者unsafeMessageBody这样的名字。在调用了查清不安全输入的函数后，得到的变量可以命名为trustedUrl或者safeMessageBody。</p>
<p>还可能有如下情景：</p>
<table>
<thead>
<tr>
<th>情形</th>
<th>变量名</th>
<th>更好的名字</th>
</tr>
</thead>
<tbody>
<tr>
<td>一个纯文本格式的密码，需要加密后才能进一步使用</td>
<td>password</td>
<td>plaintext_password</td>
</tr>
<tr>
<td>一条用户提供的注释，需要转义之后才能用于显示</td>
<td>comment</td>
<td>unescaped_comment</td>
</tr>
<tr>
<td>已转化为UTF-8格式的html字节</td>
<td>html</td>
<td>html_utf8</td>
</tr>
<tr>
<td>以“url方式编码”的输入数据</td>
<td>data</td>
<td>data_urlenc</td>
</tr>
</tbody>
</table>
<p>我记得高程书里有一种表示方法，是以前缀进行变量的命名，如数字变量a：<code>n_a</code>，字符串变量b：<code>s_b</code>，这种用标识的形式进行的变量命名也很有作用，不过需要熟悉标识规范。</p>
<h3 id="名字应该有多长"><a href="#名字应该有多长" class="headerlink" title="名字应该有多长"></a>名字应该有多长</h3><p>d、days还是days_since_last_update呢？这个需要根据变量的使用场景，可以遵循以下几条原则：</p>
<h4 id="在小的作用域里可以使用短的名字"><a href="#在小的作用域里可以使用短的名字" class="headerlink" title="在小的作用域里可以使用短的名字"></a>在小的作用域里可以使用短的名字</h4><p>当你去短期度假时，你带的行李通常会比长假少。同样，“作用域”小的标识符也不用带上太多信息。也就是说，因为所有的信息都很容易看到，所以可以用很短的名字。</p>
<p>如lookUpNames(m)。</p>
<p>如果一个标识符有较大的作用域，那么它的名字就要包含足够的信息以便含义更清楚。</p>
<h4 id="输入长名字——不再是个问题"><a href="#输入长名字——不再是个问题" class="headerlink" title="输入长名字——不再是个问题"></a>输入长名字——不再是个问题</h4><p>有很多避免使用长名字的理由，但“不好输入”这一条已经不再有效。了解下编辑器的单词补全功能。</p>
<h4 id="首字符缩略词和缩写"><a href="#首字符缩略词和缩写" class="headerlink" title="首字符缩略词和缩写"></a>首字符缩略词和缩写</h4><p>例如把一个类命名为FEManager而不是FrontEndManager，这样会让人费解。</p>
<p>所以是否需要使用缩略词，取决于<strong>团队的新成员是否能理解这个名字的含义</strong>。</p>
<p>像eval可以代替evaluation，doc可以代替document，str可以代替string，然而像FEManager这种就可能会让人难以了解。</p>
<h4 id="丢掉没用的词"><a href="#丢掉没用的词" class="headerlink" title="丢掉没用的词"></a>丢掉没用的词</h4><p>有时候名字中的某些单词可以拿掉而不会损失任何信息。如convertToString()可以改为toString()。</p>
<h3 id="利用名字的格式来传递含义"><a href="#利用名字的格式来传递含义" class="headerlink" title="利用名字的格式来传递含义"></a>利用名字的格式来传递含义</h3><p>对于<strong>下划线</strong>、<strong>连字符</strong>和<strong>大小写</strong>的使用方式也可以把更多信息装到名字中。如首字符小写驼峰用于表示函数，如<code>setUserName()</code>，首字符大写用于表示类（或构造函数），如<code>TeamManager</code>，用小写字符与下划线连接表示变量，如<code>is_user</code>，全大写字符与下划线连接表示常量，如<code>LIBRARY_NAME</code>。</p>
<p>特殊的，如jQuery/Zepto变量可以加上$，如<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> $btn = $(<span class="string">'#submit_btn'</span>);</span><br></pre></td></tr></table></figure></p>
<p>css里的规范可参考<a href="http://blog.michealwayne.cn/Moo-CSS/docs/">Moo-css</a></p>
<h2 id="不会误解的名字"><a href="#不会误解的名字" class="headerlink" title="不会误解的名字"></a>不会误解的名字</h2><p>要多问自己几遍：“这个名字会被别人解读成其他的含义吗？”，要仔细审视这个名字。</p>
<p>比如filter的含义可能是“挑出”，也有可能是“减掉”。</p>
<h3 id="推荐用min和max来表示（包含）极限"><a href="#推荐用min和max来表示（包含）极限" class="headerlink" title="推荐用min和max来表示（包含）极限"></a>推荐用min和max来表示（包含）极限</h3><p>命名极限最清楚的方式是在摇限制的东西前加上max_或min_。</p>
<p>如：MAX_ITEMS_IN_CART表示购物车的最大限制。</p>
<h3 id="推荐用first和last来表示包含的范围"><a href="#推荐用first和last来表示包含的范围" class="headerlink" title="推荐用first和last来表示包含的范围"></a>推荐用first和last来表示包含的范围</h3><p>对于表示包含的范围，first/last比start/end或begin/end效果要好。</p>
<h3 id="推荐用begin和end来表示包含-排除范围"><a href="#推荐用begin和end来表示包含-排除范围" class="headerlink" title="推荐用begin和end来表示包含/排除范围"></a>推荐用begin和end来表示包含/排除范围</h3><h3 id="给布尔值命名"><a href="#给布尔值命名" class="headerlink" title="给布尔值命名"></a>给布尔值命名</h3><p>当为布尔值变量或者返回布尔值的函数选择名字时，要确保返回true和false的意义很明确。</p>
<p>如定义这样一个布尔变量<code>read_password</code>，这会有两种截然不同的解释：</p>
<ul>
<li>我们需要读取密码</li>
<li>已经读取了密码</li>
</ul>
<p>因此这个例子里最好避免使用“read”这个词，用need_password或user_is_authenticated这样的名字来代替。</p>
<blockquote>
<p>通常来讲，加上像is、has、can或should这样的词可以把布尔值变得更明确。<br>最好避免使用反义名字。如disable_ajax不如use_ajax好。</p>
</blockquote>
<h3 id="与使用者的期望相匹配"><a href="#与使用者的期望相匹配" class="headerlink" title="与使用者的期望相匹配"></a>与使用者的期望相匹配</h3><p>有些名字之所以会让人误解是因为用户对它们的含义有先入为主的印象，就算你的本意并非如此。这种情况下，最好放弃这个名字而改用一个不会让人误解的名字。</p>
<p>比如get<em>，在设计大量计算的话我们可以重命名为compute</em>，后者更像是有些代价的操作。</p>
<p>当你要选一个好名字时，可能会同时考虑多个备选方案，通常你要在头脑中盘算一下每个名字的好处，然后才能得出最后的选择。</p>
<p>可以参考下面这个命名网站：<a href="https://codeif.xinke.org.cn" target="_blank" rel="noopener">https://codeif.xinke.org.cn</a>。当然它也有编辑器插件。</p>
<h2 id="审美"><a href="#审美" class="headerlink" title="审美"></a>审美</h2><p>代码的排版：</p>
<ul>
<li>使用一致的布局，让读者很快就习惯这种风格</li>
<li>让相似的代码看上去相似</li>
<li>把相关的代码行分组，形成代码块</li>
</ul>
<h3 id="重新安排换行来保持一致和紧凑"><a href="#重新安排换行来保持一致和紧凑" class="headerlink" title="重新安排换行来保持一致和紧凑"></a>重新安排换行来保持一致和紧凑</h3><p>比如我们定义某个方法：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getTime</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2019</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>很明显我们很难直观了解后面这堆1的含义，那么可以通过换行和注释提高可读性<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getTime</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>(</span><br><span class="line">        <span class="number">2019</span>, <span class="comment">/* year */</span></span><br><span class="line">        <span class="number">1</span>,    <span class="comment">/* month */</span></span><br><span class="line">        <span class="number">1</span>,    <span class="comment">/* date */</span></span><br><span class="line">        <span class="number">1</span>,    <span class="comment">/* hour */</span></span><br><span class="line">        <span class="number">1</span>,    <span class="comment">/* minute */</span></span><br><span class="line">        <span class="number">1</span>,    <span class="comment">/* second */</span></span><br><span class="line">        <span class="number">1</span>     <span class="comment">/* milliseconds */</span></span><br><span class="line">        )</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>或者为了保持紧凑，可以如下<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">getTime</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">//         Date(year, month, date, hour, minute, second, milliseconds)</span></span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="built_in">Date</span>(<span class="number">2019</span>,      <span class="number">1</span>,    <span class="number">1</span>,   <span class="number">1</span>,      <span class="number">1</span>,      <span class="number">1</span>,            <span class="number">1</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="用方法来整理不规则的东西"><a href="#用方法来整理不规则的东西" class="headerlink" title="用方法来整理不规则的东西"></a>用方法来整理不规则的东西</h3><p>简单来说就是用抽象方法来处理一系列东西，实现如下的代码形式<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">handleSomething(argumentA, argumentB, argumentC);</span><br><span class="line">handleSomething(argumentD, argumentE);</span><br><span class="line">handleSomething(argumentD);</span><br></pre></td></tr></table></figure></p>
<p>尽管我们的目的仅仅是让代码更有美感，但这样的好处还有几个附带效果：</p>
<ul>
<li>它会消除大量的重复，让代码更紧凑</li>
<li>标识变得很直白</li>
<li>添加新内容/处理更简单</li>
</ul>
<p>“看上去漂亮”通常会带来不限于表明层次的改进，它可能会帮你把代码的结构做得更好。</p>
<h3 id="在需要时使用对齐"><a href="#在需要时使用对齐" class="headerlink" title="在需要时使用对齐"></a>在需要时使用对齐</h3><p>整齐的边和列让读者可以轻松地浏览文本。</p>
<p>如:<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">checkFullName(<span class="string">'Micheal Wayne'</span>, <span class="string">'Mr. Micheal Wayne'</span>, <span class="string">''</span>);</span><br><span class="line">checkFullName(<span class="string">'Roger Federer'</span>, <span class="string">'Mr. Roger Federer'</span>, <span class="string">''</span>);</span><br><span class="line">checkFullName(<span class="string">'No Such Guy'</span>  , <span class="string">''</span>                 , <span class="string">'no match found'</span>);</span><br><span class="line">checkFullName(<span class="string">'john'</span>         , <span class="string">''</span>                 , <span class="string">'more than one result'</span>);</span><br></pre></td></tr></table></figure></p>
<p>又如<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">details  = data.details;</span><br><span class="line">location = data.location;</span><br><span class="line">phone    = data.phone;</span><br><span class="line">url      = data.url;</span><br></pre></td></tr></table></figure></p>
<p>还如<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">obj = &#123;</span><br><span class="line">    &#123; <span class="attr">key</span>: <span class="string">'timeout'</span>,    <span class="attr">value</span>: <span class="literal">null</span>,        <span class="attr">desc</span>: <span class="string">'cmd_timeout'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">key</span>: <span class="string">'tries'</span>,      <span class="attr">value</span>: <span class="string">'opt.ntry'</span>,  <span class="attr">desc</span>: <span class="string">'number_inf'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">key</span>: <span class="string">'useproxy'</span>,   <span class="attr">value</span>: <span class="string">'boolean'</span>,   <span class="attr">desc</span>: <span class="string">'use_proxy'</span> &#125;,</span><br><span class="line">    &#123; <span class="attr">key</span>: <span class="string">'useragent'</span>,  <span class="attr">value</span>: <span class="literal">null</span>,        <span class="attr">desc</span>: <span class="string">'spec_useragent'</span> &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<p>不过有些程序员不喜欢这种方式，因为建立和维护对齐的成本很大，改动一行可能会牵动其他所有行。如果真的很费工夫，可以不这么做。</p>
<h3 id="选一个有意义的顺序，始终一致地使用它"><a href="#选一个有意义的顺序，始终一致地使用它" class="headerlink" title="选一个有意义的顺序，始终一致地使用它"></a>选一个有意义的顺序，始终一致地使用它</h3><p>原则：</p>
<ul>
<li>让变量的顺序与HTML结构对应，如表单变量</li>
<li>从最重要到最不重要排序</li>
<li>按字母排序</li>
</ul>
<p>如一个表单：<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">form</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"name"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"sex"</span>/&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">input</span> <span class="attr">id</span>=<span class="string">"email"</span>/&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">script</span>&gt;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> name  = <span class="built_in">document</span>.getElementById(<span class="string">'name'</span>).value;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> sex   = <span class="built_in">document</span>.getElementById(<span class="string">'sex'</span>).value;</span></span><br><span class="line"><span class="javascript"><span class="keyword">var</span> email = <span class="built_in">document</span>.getElementById(<span class="string">'email'</span>).value;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<h3 id="把声明按块组织起来"><a href="#把声明按块组织起来" class="headerlink" title="把声明按块组织起来"></a>把声明按块组织起来</h3><p>我们的大脑很自然地会按照分组和层次结构来思考，因此你可以通过这样的组织方式来帮助读者快速地理解你的代码。</p>
<p>如<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">a();</span><br><span class="line">b();</span><br><span class="line">c();</span><br><span class="line">d();</span><br><span class="line">e();</span><br><span class="line">f();</span><br><span class="line">g();</span><br></pre></td></tr></table></figure></p>
<p>根据逻辑分组后<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// get info</span></span><br><span class="line">a();</span><br><span class="line">b();</span><br><span class="line">c();</span><br><span class="line"></span><br><span class="line"><span class="comment">// set header</span></span><br><span class="line">d();</span><br><span class="line">e();</span><br><span class="line"></span><br><span class="line"><span class="comment">// set footer</span></span><br><span class="line">f();</span><br><span class="line">g();</span><br></pre></td></tr></table></figure></p>
<h3 id="把代码分成“段落”"><a href="#把代码分成“段落”" class="headerlink" title="把代码分成“段落”"></a>把代码分成“段落”</h3><p>书面文字要分为段落是由于一下几个原因：</p>
<ul>
<li>它是一种把相似的想法放在一起并与其他想法分开的方法。</li>
<li>它提供了可见的“脚印”，如果没有它，会很容易找不到你读到哪里了。</li>
<li>它便于段落之间的导航。</li>
</ul>
<p>因为同样的原因，代码也应当分成“段落”，如上例。</p>
<h3 id="个人风格与一致性"><a href="#个人风格与一致性" class="headerlink" title="个人风格与一致性"></a>个人风格与一致性</h3><p>如定义函数类，写惯了c的会有下习惯<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span> (<span class="params"></span>)</span></span><br><span class="line"><span class="function"></span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ClassA</span> </span></span><br><span class="line"><span class="class"></span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>还有一部分人<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ClassA</span> </span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>选择一种风格而非另一种，不会真的影响到代码的可读性。但如果把两种风格混到一起就不好了。<strong>一致性的风格比“正确”的风格更重要。</strong></p>
<h2 id="该写什么样的注释"><a href="#该写什么样的注释" class="headerlink" title="该写什么样的注释"></a>该写什么样的注释</h2><blockquote>
<p>注释的目的是尽量帮助读者了解得和作者一样多</p>
</blockquote>
<h3 id="什么不需要注释"><a href="#什么不需要注释" class="headerlink" title="什么不需要注释"></a>什么不需要注释</h3><p>如下面注释都是没有价值的：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// The class definition for Account</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Account</span> </span>&#123;</span><br><span class="line">    <span class="comment">// Constructor</span></span><br><span class="line">    <span class="keyword">constructor</span> () &#123;</span><br><span class="line">        <span class="keyword">this</span>.Account();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这些注释没有价值是因为它们并没有提供任何新的信息，也不能帮助读者更好地理解代码。<strong>不要为那些从代码本身就能快速腿短的事实写注释。</strong></p>
<p>如下：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// remove everything after the '*'</span></span><br><span class="line">name = <span class="string">'*'</span>.join(line.split(<span class="string">'*'</span>)[<span class="number">1</span>]);</span><br></pre></td></tr></table></figure></p>
<p>虽然这里的注释也没有表达出任何信息，不过它能让人明白它到底在做什么。</p>
<h3 id="不要为了注释而注释"><a href="#不要为了注释而注释" class="headerlink" title="不要为了注释而注释"></a>不要为了注释而注释</h3><p>比如函数的声明跟注释一样的情况。如果要写注释，它最好能给出更多重要的细节。</p>
<h3 id="不要给不好的名字加注释——应该把名字改好"><a href="#不要给不好的名字加注释——应该把名字改好" class="headerlink" title="不要给不好的名字加注释——应该把名字改好"></a>不要给不好的名字加注释——应该把名字改好</h3><p>通常来讲，我们不需要“拐杖式注释”——试图粉饰可读性差的代码的注释。写代码的人常常把这条规则表述成：<strong>好代码 &gt; 坏代码 + 好注释</strong></p>
<h3 id="记录你的思想"><a href="#记录你的思想" class="headerlink" title="记录你的思想"></a>记录你的思想</h3><p>很多好的注释仅通过“记录你的想法”就能得到，也就是那些你在写代码时有过的重要想法。</p>
<h4 id="加入“导演评论”"><a href="#加入“导演评论”" class="headerlink" title="加入“导演评论”"></a>加入“导演评论”</h4><p>电影中常有这部分，电影制作者在其中给出自己的见解并通过讲故事来帮助你理解这部电影是如何制作的。</p>
<p>如：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 出乎意料的是，对于这些数据用二叉树比用哈希表快40%</span></span><br><span class="line"><span class="comment">// 哈希运算的代价比左/右比较大得多</span></span><br></pre></td></tr></table></figure></p>
<p>这段注释教会读者一些事情，并且防止他们为无谓的优化而浪费时间。</p>
<p>又如：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 这个类正在变得越来越乱</span></span><br><span class="line"><span class="comment">// 也许我们应该建立一个'ResourceNode'子类来帮助整理</span></span><br></pre></td></tr></table></figure></p>
<p>一目了然，需要后人或以后的自己来优化。</p>
<h4 id="为代码中的瑕疵写注释"><a href="#为代码中的瑕疵写注释" class="headerlink" title="为代码中的瑕疵写注释"></a>为代码中的瑕疵写注释</h4><p>要好意思把写代码过程中的瑕疵记录下来</p>
<p>其中有几个标记很流行：</p>
<table>
<thead>
<tr>
<th>标记</th>
<th>通常的意义</th>
</tr>
</thead>
<tbody>
<tr>
<td>TODO</td>
<td>我还没有处理的事情</td>
</tr>
<tr>
<td>FIXME</td>
<td>已知的无法运行的代码</td>
</tr>
<tr>
<td>HACK</td>
<td>对一个问题不得不采用的比较粗糙的解决方案</td>
</tr>
<tr>
<td>XXX</td>
<td>危险，这里有重要的问题</td>
</tr>
</tbody>
</table>
<p>我们还可以用小写或添加前缀作为比较来表示重要优先级，如todo、maybe-later:todo。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// <span class="doctag">TODO:</span> 换个更快的算法</span></span><br></pre></td></tr></table></figure>
<p>重要的是你应该可以随时把代码将来应该如何改动的想法用注释记录下来。这种注释给读者带来对代码质量和当前状态的宝贵见解，甚至可能会给他们指出如何改进代码的方向。</p>
<h4 id="给常量加注释"><a href="#给常量加注释" class="headerlink" title="给常量加注释"></a>给常量加注释</h4><p>虽然很多常量名字本身已经很清楚感觉不需要注释，但是可以通过加注释得以改进，比如定义这个常量时的想法。</p>
<h4 id="站在读者的角度"><a href="#站在读者的角度" class="headerlink" title="站在读者的角度"></a>站在读者的角度</h4><p>想象你的代码对于一个并不了解此项目的开发来讲看起来是什么样子的。</p>
<p>我们可以注释有疑惑的点或者可能的陷阱，以及类/文件/业务直接的交互或总结。</p>
<h3 id="最后的思考——克服“作者心理阻滞”"><a href="#最后的思考——克服“作者心理阻滞”" class="headerlink" title="最后的思考——克服“作者心理阻滞”"></a>最后的思考——克服“作者心理阻滞”</h3><p>步骤：</p>
<ul>
<li>不管心里想什么，先写下来</li>
<li>读一下这段注释，看看有没有什么地方可以改进</li>
<li>不断改进</li>
</ul>
<h2 id="写出言简意赅的注释"><a href="#写出言简意赅的注释" class="headerlink" title="写出言简意赅的注释"></a>写出言简意赅的注释</h2><p>如果你要写注释，最好把它写得精确——越明确和细致越好。另外，由于注释子啊屏幕上也要占很多地方，并且需要花费更多的时间来读。因此注释也需要很紧凑。<strong>注释应当有很高的信息/空间率</strong></p>
<h3 id="让注释保持紧凑"><a href="#让注释保持紧凑" class="headerlink" title="让注释保持紧凑"></a>让注释保持紧凑</h3><h3 id="避免使用不明确的代词"><a href="#避免使用不明确的代词" class="headerlink" title="避免使用不明确的代词"></a>避免使用不明确的代词</h3><p>代词可能会让事情变得令人困惑。读者需要花费更多的工夫来解读一个代词，比如一些情况下，it或者this到底指代什么是不清楚的。如<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Insert the data into the cache, but check if it's too big first.</span></span><br></pre></td></tr></table></figure></p>
<p>可以改成<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Insert the data into the cache, but check if the data is too big first.</span></span><br></pre></td></tr></table></figure></p>
<h3 id="润色粗糙的句子"><a href="#润色粗糙的句子" class="headerlink" title="润色粗糙的句子"></a>润色粗糙的句子</h3><h3 id="精确地描述函数的行为"><a href="#精确地描述函数的行为" class="headerlink" title="精确地描述函数的行为"></a>精确地描述函数的行为</h3><h3 id="用输入-输出的例子来说明特别的情况"><a href="#用输入-输出的例子来说明特别的情况" class="headerlink" title="用输入/输出的例子来说明特别的情况"></a>用输入/输出的例子来说明特别的情况</h3><h3 id="声明代码的意图"><a href="#声明代码的意图" class="headerlink" title="声明代码的意图"></a>声明代码的意图</h3><p>如<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">connect(<span class="number">10</span>, <span class="literal">false</span>);</span><br></pre></td></tr></table></figure></p>
<p>看上去难以理解，可以改为：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">connect(<span class="comment">/*timeout_ms = */</span><span class="number">10</span>, <span class="comment">/*use_async = */</span><span class="literal">false</span>);</span><br></pre></td></tr></table></figure></p>
<h3 id="采用信息含量高的词"><a href="#采用信息含量高的词" class="headerlink" title="采用信息含量高的词"></a>采用信息含量高的词</h3><p>（学好英语，精练语句）</p>
<hr>
<h2 id="简化循环和逻辑"><a href="#简化循环和逻辑" class="headerlink" title="简化循环和逻辑"></a>简化循环和逻辑</h2><h2 id="把控制流变得易读"><a href="#把控制流变得易读" class="headerlink" title="把控制流变得易读"></a>把控制流变得易读</h2><h3 id="条件语句中参数的顺序"><a href="#条件语句中参数的顺序" class="headerlink" title="条件语句中参数的顺序"></a>条件语句中参数的顺序</h3><p>如<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (length &gt; <span class="number">10</span>)</span><br></pre></td></tr></table></figure></p>
<p>比<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="number">10</span> &lt; length)</span><br></pre></td></tr></table></figure></p>
<p>更易读。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(bytes_received &lt; bytes_expected)</span><br></pre></td></tr></table></figure>
<p>比<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span>(bytes_expected &gt; bytes_received)</span><br></pre></td></tr></table></figure></p>
<p>更易读。</p>
<p>为什么呢，下面这条指导原则很有帮助：</p>
<table>
<thead>
<tr>
<th>比较的左侧</th>
<th>比较的右侧</th>
</tr>
</thead>
<tbody>
<tr>
<td>“被询问的”表达式，它的值更倾向于不断变化</td>
<td>用来比较的表达式，它更倾向于常量</td>
</tr>
</tbody>
</table>
<h3 id="避免尤达表达法"><a href="#避免尤达表达法" class="headerlink" title="避免尤达表达法"></a>避免尤达表达法</h3><p>如<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (obj = <span class="literal">null</span>) ...</span><br></pre></td></tr></table></figure></p>
<p>读者会很自然得理解为<code>if (obj == null)</code></p>
<h3 id="if-else语句块的顺序"><a href="#if-else语句块的顺序" class="headerlink" title="if/else语句块的顺序"></a>if/else语句块的顺序</h3><p>逻辑</p>
<ul>
<li>首先处理正逻辑而不是负逻辑。例如用<code>if (debug)</code>而不是<code>if (!debug)</code></li>
<li>先处理掉简单的情况。这种方式可能还会使得if和else在屏幕之内都可见。</li>
<li>先处理有趣或者可疑的情况。</li>
</ul>
<p>有时这些倾向性之间会有冲突，那么就需要自己判断了。</p>
<h3 id="三目-表达式"><a href="#三目-表达式" class="headerlink" title="三目?:表达式"></a>三目?:表达式</h3><p>三目表达式对于可读性的影响是有争议的。拥护者认为这种方式可以只写一行而不用写成多行。反对者这说这可能会造成阅读的混乱并且很难用调试器来调试。如何选择，一个较好的度量方法就是根据最小化人们理解它们所需的时间。</p>
<p>因此默认情况都使用if/else，三目运算符只有在最简单的情况下使用。</p>
<h3 id="避免do-while循环"><a href="#避免do-while循环" class="headerlink" title="避免do/while循环"></a>避免do/while循环</h3><p>do/while的奇怪之处是一个代码块是否执行是由其后的一个条件来决定的。通常来讲逻辑条件应该出现在它们所“保护”的代码之前。因此do/while会显得有点不自然，而while循环相对更易读。另一个要避免do<br>/while的原因是其中的continue会让人迷惑。如<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="keyword">continue</span>;</span><br><span class="line">&#125; <span class="keyword">while</span> (<span class="literal">false</span>);</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>“我的经验是，do语句是错误和困惑的来源……我倾向于把条件放在“前面我能看到的地方”。其结果是，我倾向于避免使用do语句。”    ——《C++程序设计语言》</p>
</blockquote>
<h3 id="从函数中提前返回"><a href="#从函数中提前返回" class="headerlink" title="从函数中提前返回"></a>从函数中提前返回</h3><p>有些程序员认为函数中永远不应该出现多条return语句，我认为这是不合理的。从函数中提前返回没有问题，而且常常很受欢迎。如<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">func</span> (<span class="params">str, num</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (!str || !num) <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> str + num;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这里可以称为保护语句（guard clause），不用的话反而会不自然。</p>
<p>想要单一出口点的一个动机是保证调用函数结尾的清理代码。但现代的编程语言为这种保证提供了更精细的方式：</p>
<table>
<thead>
<tr>
<th>语言</th>
<th>清理代码的结构化术语</th>
</tr>
</thead>
<tbody>
<tr>
<td>C++</td>
<td>析构函数</td>
</tr>
<tr>
<td>Java、Python</td>
<td>try finally</td>
</tr>
<tr>
<td>Python JavaScript</td>
<td>with</td>
</tr>
<tr>
<td>C#</td>
<td>using</td>
</tr>
</tbody>
</table>
<h3 id="臭名昭著的goto"><a href="#臭名昭著的goto" class="headerlink" title="臭名昭著的goto"></a>臭名昭著的goto</h3><p>还好js没有，不解释。</p>
<h3 id="最小化嵌套"><a href="#最小化嵌套" class="headerlink" title="最小化嵌套"></a>最小化嵌套</h3><p>嵌套很深的代码向来难以理解。每个嵌套层次都在读者的“思维栈”上又增加了一个条件。当读者见到一个右大括号（}）时，可能很难“出栈”来回忆起它背后的条件是什么。无论是条件判断还是请求回调都要注意这点。</p>
<h4 id="嵌套是如何累积而成的"><a href="#嵌套是如何累积而成的" class="headerlink" title="嵌套是如何累积而成的"></a>嵌套是如何累积而成的</h4><p>往往是开发到需要插入一段新代码的时候，往往在最容易的地方插入。对当时的开发者来讲这个新代码很整洁也很明确，但当以后其他人遇到这段代码时，当时所有的上下文早已不在了，他不得不一下子全盘接受代码逻辑。如何避免呢：<strong>当你对代码做改动时，从全新的角度审视它，把它作为一个整体来看待。</strong></p>
<h4 id="通过提早返回来减少嵌套"><a href="#通过提早返回来减少嵌套" class="headerlink" title="通过提早返回来减少嵌套"></a>通过提早返回来减少嵌套</h4><p>如<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (<span class="comment">//...) &#123;</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (<span class="comment">//...) &#123;</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (<span class="comment">//...) &#123;</span></span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ...</span></span><br></pre></td></tr></table></figure></p>
<h4 id="减少循环内的嵌套"><a href="#减少循环内的嵌套" class="headerlink" title="减少循环内的嵌套"></a>减少循环内的嵌套</h4><p>提早返回这个技术并不总是合适的，在循环中与提早返回类似的技术是continue。一般来讲continue语句让人很困惑，因为它让读者不能连续得阅读，但在某些语境下读者可以很容易地领悟到continue的意思就是“跳过该项”</p>
<h3 id="你能理解执行的流程吗"><a href="#你能理解执行的流程吗" class="headerlink" title="你能理解执行的流程吗"></a>你能理解执行的流程吗</h3><p>不要滥用新功能。</p>
<h2 id="拆分超长的表达式"><a href="#拆分超长的表达式" class="headerlink" title="拆分超长的表达式"></a>拆分超长的表达式</h2><p>简单来说代码中的表达式越长，它就越难以理解。<strong>把你超长表达式拆分成更容易理解的小块。</strong></p>
<h3 id="用作解释的变量"><a href="#用作解释的变量" class="headerlink" title="用作解释的变量"></a>用作解释的变量</h3><p>拆分表达式最简单的方法就是引入一个额外的变量，让它表示一个小一点的子表达式。这个额外的变量称为<strong>“解释变量”</strong>。如</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (url.split(<span class="string">':'</span>)[<span class="number">1</span>].toUpperCase() === <span class="string">'root'</span>) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>可写为<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> username = url.split(<span class="string">':'</span>)[<span class="number">1</span>].toUpperCase();</span><br><span class="line"><span class="keyword">if</span> (username === <span class="string">'root'</span>) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="总结变量"><a href="#总结变量" class="headerlink" title="总结变量"></a>总结变量</h3><p>即使一个表达式不需要解释，你可能明显看出它的含义，但把它装入一个新变量中仍然有用。我们把它称为<strong>“总结变量”</strong>。它的目的只是用一个短很多的名字来代替一大块代码，这个名字会更容易管理和思考。</p>
<p>如：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (request.user.id === <span class="built_in">document</span>.ower_id) &#123;</span><br><span class="line">    <span class="comment">// ....</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (request.user.id !== <span class="built_in">document</span>.ower_id) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>可改为：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> user_owns_document = request.user.id === <span class="built_in">document</span>.ower_id;</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (user_owns_document) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> (!user_owns_document) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="使用德摩根定理"><a href="#使用德摩根定理" class="headerlink" title="使用德摩根定理"></a>使用德摩根定理</h3><p>对于一个布尔表达式，有两种等价的写法：</p>
<ul>
<li>not (a or b or c) &lt;=&gt; (not a) and (not b) and (not c)</li>
<li>not (a and b and c) &lt;=&gt; (not a) or (not b) or (not c)</li>
</ul>
<p>有时候利用这个定理会让布尔表达式更具可读性。如<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!(data_exist &amp;&amp; !is_protected)) &#123; <span class="comment">// ... &#125;</span></span><br></pre></td></tr></table></figure></p>
<p>可改为：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (!data_exist || is_protected) &#123; <span class="comment">// ... &#125;</span></span><br></pre></td></tr></table></figure></p>
<h3 id="滥用短路逻辑"><a href="#滥用短路逻辑" class="headerlink" title="滥用短路逻辑"></a>滥用短路逻辑</h3><p>包括js的很多编程语言中，布尔操作会做短路逻辑。如<code>if (a || b)</code>会在a为真值时不会计算b。这种方式很方便但有时可能会被滥用以实现复杂逻辑。<br>如：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> tmp;</span><br><span class="line"><span class="keyword">if</span> (!(tmp = getTypeA()) || !(tmp = getTypeB())) &#123; <span class="comment">// ... &#125;</span></span><br></pre></td></tr></table></figure></p>
<p>虽然和简洁但需要花一段时间来理解，这样的话可能还不如<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> tmp;</span><br><span class="line"></span><br><span class="line">tmp = getTypeA();</span><br><span class="line"><span class="keyword">if</span> (!tmp) tmp = getTypeB();</span><br><span class="line"><span class="keyword">if</span> (!tmp) <span class="comment">// ...</span></span><br></pre></td></tr></table></figure></p>
<p>要小心“智能”的小代码，它们往往在以后会让别人读起来感到困惑。</p>
<h2 id="变量和刻度性"><a href="#变量和刻度性" class="headerlink" title="变量和刻度性"></a>变量和刻度性</h2><p>会讨论三个问题：</p>
<ul>
<li>变量越多，就越难全部跟踪它们的动向</li>
<li>变量的作用域越大，就需要跟踪它的动向越久</li>
<li>变量改变得越频繁，就越难以跟踪它的当前值。</li>
</ul>
<h3 id="减少变量"><a href="#减少变量" class="headerlink" title="减少变量"></a>减少变量</h3><p>减少不能改进可读性的变量。</p>
<h4 id="没有价值的临时变量。"><a href="#没有价值的临时变量。" class="headerlink" title="没有价值的临时变量。"></a>没有价值的临时变量。</h4><p>如：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> now = data.nowdate;</span><br><span class="line"><span class="keyword">let</span> view_time = now;</span><br></pre></td></tr></table></figure></p>
<h4 id="减少中间结果"><a href="#减少中间结果" class="headerlink" title="减少中间结果"></a>减少中间结果</h4><p>如一个函数用来从数组中删除一个值（不考虑所有）：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">remove_one</span> (<span class="params">array, value_to_remove</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> index_to_remove = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = array.length; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (array[i] === value_to_remove) &#123;</span><br><span class="line">            index_to_remove = i;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (index_to_remove !== <span class="literal">null</span>) &#123;</span><br><span class="line">        array.splice(index_to_remove, <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>看起来很完美，但在这里我们可以进一步优化：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">remove_one</span> (<span class="params">array, value_to_remove</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = array.length; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (array[i] === value_to_remove) &#123;</span><br><span class="line">            array.splice(i, <span class="number">1</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>通常来讲，速战速决是一个好的策略。</p>
<h4 id="减少控制流变量"><a href="#减少控制流变量" class="headerlink" title="减少控制流变量"></a>减少控制流变量</h4><p>有时候你会看到这样的循环代码：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> done = <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> (<span class="comment">/* 条件 */</span> &amp;&amp; !done) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    <span class="keyword">if</span> (<span class="comment">//...) &#123;</span></span><br><span class="line">        done = <span class="literal">true</span>;</span><br><span class="line">        <span class="keyword">continue</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>像done这样的变量，称为“控制流变量”。它们唯一的目的就是控制程序的执行——它们没有包含任何程序的数据。通常控制流变量可以通过更好地运用结构化编程而消除。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (<span class="comment">/* 条件 */</span>) &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">if</span> (<span class="comment">//...) &#123;</span></span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>如果是在复杂的情况，如多层嵌套下一个break不能满足怎么办呢。解决方法通常是把代码挪到一个新函数中（要么是循环中的代码，要么是整个循环）</p>
<h3 id="缩小变量的作用域"><a href="#缩小变量的作用域" class="headerlink" title="缩小变量的作用域"></a>缩小变量的作用域</h3><p>我们都听说过“避免全局变量”这条建议，因为很难跟踪这些全局变量在哪以及如何使用它们。并且通过“命名空间污染”，代码可能会意外地改变全局变量的值而导致发生问题。实际上，让所有的变量都缩小作用域是一个好主意，并非只是针对全局变量。原则：<strong>让你的变量对尽量少的代码行可见。</strong></p>
<p>原因也很简单，因为这样有效地减少了读者同时需要考虑的变量个数。如果你能把所有的变量作用域都减半，那么这就意味着同时需要思考的变量个数平均来讲是原来的一半。</p>
<p>有几个较好的方案：</p>
<ul>
<li>大文件拆分成小文件，大类拆分为小类，大函数拆分为小函数</li>
<li>尽量使用静态方法或属性</li>
<li>变量私有化（js通常要利用闭包）</li>
</ul>
<h3 id="只写一次的变量更好"><a href="#只写一次的变量更好" class="headerlink" title="只写一次的变量更好"></a>只写一次的变量更好</h3><p>操作一个变量的地方越多，越难确定它的当前值。永久固定的变量更容易思考，如常量。</p>
<hr>
<h2 id="重新组织代码"><a href="#重新组织代码" class="headerlink" title="重新组织代码"></a>重新组织代码</h2><h2 id="抽取不相关的子问题"><a href="#抽取不相关的子问题" class="headerlink" title="抽取不相关的子问题"></a>抽取不相关的子问题</h2><p>所谓工程学就是关于把大问题拆分成小问题再把这些问题的解决方案放回一起。这里的建议是“积极地发现并抽取出不相关的子逻辑”，如</p>
<ul>
<li>看看某个函数或代码块，想一下：这段代码高层次的目标是什么？</li>
<li>对于每一行代码，问一下：它是直接为了目标而工作吗？这段代码高层次的目标是什么呢？</li>
<li>如果足够的行数在解决不相关的子问题，抽取代码到独立的函数中。</li>
</ul>
<p>这里重点关注抽取不相关的子问题。</p>
<p>如有个函数作用是找到距离给定点最近的位置。函数如下：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">findClosetLocation</span> (<span class="params">lat, lng, array</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> closest;</span><br><span class="line">    <span class="keyword">let</span> closest_dist = <span class="built_in">Number</span>.MAX_VALUE;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = array.length; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">let</span> lat_rad = radians(lat);</span><br><span class="line">        <span class="keyword">let</span> lng_rad = radians(lng);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">let</span> lat2_rad = radians(array[i].latitude);</span><br><span class="line">        <span class="keyword">let</span> lng2_rad = radians(array[i].longitude);</span><br><span class="line">        </span><br><span class="line">        <span class="keyword">let</span> dist = <span class="built_in">Math</span>.acos(<span class="built_in">Math</span>.sin(lat_rad) * <span class="built_in">Math</span>.sin(lat2_rad) + </span><br><span class="line">                             <span class="built_in">Math</span>.cos(lat_rad) * <span class="built_in">Math</span>.cos(lat2_rad) * </span><br><span class="line">                             <span class="built_in">Math</span>.cos(lng2_rad - lng_rad));</span><br><span class="line">                             </span><br><span class="line">        <span class="keyword">if</span> (dist &lt; closest_dist) &#123;</span><br><span class="line">            closest = array[i];</span><br><span class="line">            closest_dist = dist;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> closest;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>逻辑清晰，但循环中大部分代码都旨在解决一个不相关的子问题：计算两个坐标点之间的距离。抽<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">spherical_distance</span> (<span class="params">lat1, lng1, lat2, lng2</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> lat_rad = radians(lat1);</span><br><span class="line">    <span class="keyword">let</span> lng_rad = radians(lng1);</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">let</span> lat2_rad = radians(lat2);</span><br><span class="line">    <span class="keyword">let</span> lng2_rad = radians(lng2);</span><br><span class="line">        </span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">Math</span>.acos(<span class="built_in">Math</span>.sin(lat_rad) * <span class="built_in">Math</span>.sin(lat2_rad) + </span><br><span class="line">           <span class="built_in">Math</span>.cos(lat_rad) * <span class="built_in">Math</span>.cos(lat2_rad) * </span><br><span class="line">           <span class="built_in">Math</span>.cos(lng2_rad - lng_rad));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">findClosetLocation</span> (<span class="params">lat, lng, array</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">let</span> closest;</span><br><span class="line">    <span class="keyword">let</span> closest_dist = <span class="built_in">Number</span>.MAX_VALUE;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>, len = array.length; i &lt; len; i++) &#123;</span><br><span class="line">        <span class="keyword">if</span> (dist &lt; closest_dist) &#123;</span><br><span class="line">            closest = array[i];</span><br><span class="line">            closest_dist = dist;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">return</span> closest;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h3 id="纯工具代码"><a href="#纯工具代码" class="headerlink" title="纯工具代码"></a>纯工具代码</h3><p>即一组核心任务代码，弥补现有功能上的不足。</p>
<h3 id="创建大量通用代码"><a href="#创建大量通用代码" class="headerlink" title="创建大量通用代码"></a>创建大量通用代码</h3><p>从项目中拆分出越多的独立代码越好，因为你代码的其他部分会更小而且更容易思考。</p>
<blockquote>
<p>自顶向下和自底向上的编程方式。自定向下：先设计高层次模块和函数，然后根据支持他们的需要来实现低层次函数。自底向上：尝试首先预料和解决所有的子问题，然后用这些代码段来简历更高层次的组件。大多数编程都包括了两者的组合，重要的是最终的结果：移除并单独解决子问题。</p>
</blockquote>
<p>简单来说，把一般代码和项目专有代码分开，通过建立一大组库和辅助函数来解决一般问题，剩下的就是该程序与众不同的核心业务部分。</p>
<h2 id="一次只做一件事"><a href="#一次只做一件事" class="headerlink" title="一次只做一件事"></a>一次只做一件事</h2><p>一个代码块可能初始化对象，清楚数据，解析输入，然后应用业务逻辑，所有这些都同时进行。如果所有这些代码都纠缠在一起，对于每个人物都很难靠其自身来帮你理解它从哪里开始到哪里结束。<strong>应该把代码组织得一次只做一件事情。</strong></p>
<p>一次只做一件事的流程：</p>
<ul>
<li>列出代码所做的所有任务。这里的任务没有很严格的定义——它可以小得如确保这个对象有效，或者含糊得如遍历树种所有节点。</li>
<li>尽量把这件任务拆分到不同的函数中，或者至少是代码中不同的段落。</li>
</ul>
<p>如某个投票插件，我们可以把解析数值和更新分数两件事分开。</p>
<h3 id="从对象中抽取值"><a href="#从对象中抽取值" class="headerlink" title="从对象中抽取值"></a>从对象中抽取值</h3><h2 id="把想法变成代码"><a href="#把想法变成代码" class="headerlink" title="把想法变成代码"></a>把想法变成代码</h2><blockquote>
<p>如果你不能把一件事解释给你祖母听的话说明你还没有真正理解它。    ——阿尔伯特.爱因斯坦</p>
</blockquote>
<p>类似于橡皮鸭技术。</p>
<p>基本思路：</p>
<ul>
<li>像对着一个同事一样<strong>用自然语言描述代码要做什么</strong></li>
<li>注意描述中所用的关键词和短语</li>
<li>写出描述所匹配的代码</li>
</ul>
<h3 id="清楚地描述逻辑"><a href="#清楚地描述逻辑" class="headerlink" title="清楚地描述逻辑"></a>清楚地描述逻辑</h3><h2 id="少写代码"><a href="#少写代码" class="headerlink" title="少写代码"></a>少写代码</h2><p>知道什么时候不写代码可能对于一个程序员来讲是他所要学习的最重要的技巧。<strong>最好读的代码就是没有代码。</strong></p>
<h3 id="别费神实现那个功能——你不会需要它"><a href="#别费神实现那个功能——你不会需要它" class="headerlink" title="别费神实现那个功能——你不会需要它"></a>别费神实现那个功能——你不会需要它</h3><p>当你开始一个项目，自然会很兴奋并且想着你希望实现的所有很酷的功能。但是程序员倾向于高估有多少功能真的对他们的项目来讲是必不可少的。很多功能结果没有完成，或者没有用到，也可能只是让程序更复杂。</p>
<h3 id="质疑和拆分你的需求"><a href="#质疑和拆分你的需求" class="headerlink" title="质疑和拆分你的需求"></a>质疑和拆分你的需求</h3><p>不是所有的程序都有需要运行得快，100%准确，而且能处理所有的输入。如果你真的仔细检查你的需求，有时你可以把它削减成一个简单的问题，只需要较少的代码。<strong>重新考虑需求，解决版本最简单的问题，只要能完成工作。</strong></p>
<p>如要写个商店的定位器，你认为的需求是：对于任何给定用户的经纬度，找到距离该经纬度最近的商店。</p>
<p>为了100%实现，你要处理：</p>
<ul>
<li>当位置处于国际日期分界线两侧的情况</li>
<li>接近北极或南极的位置</li>
<li>按每英里所跨经度不同，处理地球表面的曲度</li>
</ul>
<p>如果你的应用范围只有杭州的几十家店，那么上面的三个问题并不重要，需求可以缩减为：对于杭州附近的用户，在杭州找到最近的商店。<br>解决这个问题很简单，因为你只要遍历每个商店并计算它们与这个经纬度之间的欧几里得距离就可以了。</p>
<h3 id="保持小代码库"><a href="#保持小代码库" class="headerlink" title="保持小代码库"></a>保持小代码库</h3><p>在你第一次开始一个软件项目，并且只有一两个源文件时，一切都很顺利。编译和运行代码转眼就完成，很容易做改动，并且很容易记住每个函数或类定义在哪里。</p>
<p>然后随着项目的增长，你的目录中加进了越来越多的源文件。很快你就需要多个目录组织来组织他们了。很难再记得哪个函数调用了哪个函数，并且跟踪bug也需要做更多的工作。</p>
<p>最后你就有了很多源代码分布在很多不同的目录中。项目很大维护很是麻烦。</p>
<p>宇宙的自然法则——随着任何坐标系统的增长，把它粘合在一起所需的的复杂度增长得更快。</p>
<p>最好的解决办法就是<strong>“让你的代码库越小，越轻量级越好”</strong>。</p>
<ul>
<li>创建越多越好的“工具”代码来减少重复代码</li>
<li>减少无用代码或没有用的功能</li>
<li>让你的项目保持分开的子项目状态</li>
<li>总的来说，要小心代码的重量，让它保持又轻又灵。</li>
</ul>
<p>好比园丁经常修剪植物，修剪掉碍事和没用的代码也是个好主意。</p>
<h3 id="熟悉你周边的库"><a href="#熟悉你周边的库" class="headerlink" title="熟悉你周边的库"></a>熟悉你周边的库</h3><p>每隔一段时间，花15分钟来阅读标准库中的所有函数/模块/类型的名字。也就是熟悉语法跟常用库，目的不是记住这些库而是为了了解各个库的用途。（[前端开发常用文档/网站地址、样式/js方法封装库、项目模板。</p>
<blockquote>
<blockquote>
<p>](<a href="https://github.com/MichealWayne/fe-tools)）" target="_blank" rel="noopener">https://github.com/MichealWayne/fe-tools)）</a></p>
</blockquote>
</blockquote>
<h2 id="测试与可读性"><a href="#测试与可读性" class="headerlink" title="测试与可读性"></a>测试与可读性</h2><p>这里的测试指任何仅以检查另一段（“真实”）代码的行为为目的的代码。</p>
<h3 id="使测试易于阅读和维护"><a href="#使测试易于阅读和维护" class="headerlink" title="使测试易于阅读和维护"></a>使测试易于阅读和维护</h3><p>测试代码的可读性和非测试代码是同样重要的。其他程序员会经常来把测试代码看做非正式的文档，它记录了真实代码如何工作和应该如何使用。</p>
<h3 id="使这个测试更可读"><a href="#使这个测试更可读" class="headerlink" title="使这个测试更可读"></a>使这个测试更可读</h3><p>对使用者隐去不重要的细节，以便更重要的细节会更突出。</p>
<h4 id="创建最小的测试声明"><a href="#创建最小的测试声明" class="headerlink" title="创建最小的测试声明"></a>创建最小的测试声明</h4><p>大多数测试的基本内容都能精炼成“对于这样的输入（情形），期望有这样的输出（行为）”，并且很多时候这个目的可以用一行代码来表达。这除了让代码紧凑又易读，让测试的表述保持很短还会让增加测试变得很简单。</p>
<h4 id="实现定制的“微语言”"><a href="#实现定制的“微语言”" class="headerlink" title="实现定制的“微语言”"></a>实现定制的“微语言”</h4><h4 id="让错误消息具有可读性"><a href="#让错误消息具有可读性" class="headerlink" title="让错误消息具有可读性"></a>让错误消息具有可读性</h4><h4 id="选择好的测试输入"><a href="#选择好的测试输入" class="headerlink" title="选择好的测试输入"></a>选择好的测试输入</h4><p>基本原则是，你应当选择一组最简单的输入，它能完整地使用被测代码。</p>
<ul>
<li>简化输入值</li>
<li>一个功能的多个测试：与其建立单个“完美”输入来完整地执行你的代码，不如写多个小测试，后者往往会更容易、更有效并且更有可读性。每个测试都应把代码推往某一个方向，尝试找到某种bug。</li>
</ul>
<h3 id="为测试函数命名"><a href="#为测试函数命名" class="headerlink" title="为测试函数命名"></a>为测试函数命名</h3><p>为测试函数选择一个好名字可能看上去很无聊而且也无关紧要，但是不要因此取一些如test()、test1()这样的名字。</p>
<p>反而，你应当用这个名字来描述这个测试的细节。如果读测试代码的人可能很快搞明白这些的话，这一点尤其便利：</p>
<ul>
<li>被测试的类</li>
<li>被测试的函数</li>
<li>被测试的情形或bug</li>
</ul>
<p>一个构造好的测试函数名的简单方式是把这些信息拼接在一起，可能再加一个“test_”前缀。</p>
<p>一般格式为<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">test_&lt;FunctionName&gt;</span><br></pre></td></tr></table></figure></p>
<p>或追加更详细的情形<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">test_&lt;FunctionName&gt;_&lt;Situation&gt;</span><br></pre></td></tr></table></figure></p>
<h3 id="对测试比较好的开发方式"><a href="#对测试比较好的开发方式" class="headerlink" title="对测试比较好的开发方式"></a>对测试比较好的开发方式</h3><p>有些代码比其他代码更容易测试，对于测试来讲理想的代码要有明确定义的接口，没有过多的状态或者其他的“设置”，并且没有很多需要审查的隐藏数据。<br>对测试友好的设计往往很自然地会产生有良好组织的代码，其中不同的部分做不同的事情。</p>
<h4 id="测试驱动开发TDD"><a href="#测试驱动开发TDD" class="headerlink" title="测试驱动开发TDD"></a>测试驱动开发TDD</h4><p>一种编程风格，子啊写真实代码之前就写出测试。</p>
<p>在所有的把一个程序拆分成类和方法的途径中，解耦合最好的那一个往往就是最容易测试的那个。</p>
<p>可测试性差的代码的特征，以及它所带来的设计问题</p>
<table>
<thead>
<tr>
<th>特征</th>
<th>可测试性的问题</th>
<th>设计问题</th>
</tr>
</thead>
<tbody>
<tr>
<td>使用全局变量</td>
<td>对于每个测试都要重置所有的全局状态（否则，不同的测试之间会相互影响）</td>
<td>很难理解哪些函数有什么副作用。没办法独立考虑每个函数，要考虑整个程序才能理解是不是所有的代码都能工作</td>
</tr>
<tr>
<td>对外部组件有大量依赖的代码</td>
<td>很难给它写出任何测试，因为要先搭起太多的脚手架。写测试会比较无趣，因此人们会避免写测试</td>
<td>系统会更可能因某一依赖失败而失败。对于改动来讲很难知道会产生什么样的影响。很难重构类。系统会有更多的失败模式，并且要考虑更多恢复路径。</td>
</tr>
<tr>
<td>代码有不确定的行为</td>
<td>测试会很古怪，而且不可靠。经常失败的测试最终会被忽略</td>
<td>这种程序更可能会有条件竞争或其他难以重现的bug。这种程序很难推理。产品中的bug很难跟踪和改正。</td>
</tr>
</tbody>
</table>
<p>可测试性较好的代码的特征，以及它所产生的优秀设计</p>
<table>
<thead>
<tr>
<th>特征</th>
<th>对可测试性的好处</th>
<th>对设计的好处</th>
</tr>
</thead>
<tbody>
<tr>
<td>类中只有很少或者没有内部状态</td>
<td>很容易写出测试，因为要测试一个方法只要较少的设置，并且有较少的隐藏状态需要检查</td>
<td>有较少状态的类更简单，更容易理解</td>
</tr>
<tr>
<td>类/函数只做一件事</td>
<td>要测试它只需要较少的测试用例</td>
<td>较小/较简单的组件更加模块化，并且一般来讲系统有更少的耦合</td>
</tr>
<tr>
<td>每个类对别的类依赖很少；低耦合</td>
<td>每个类可以独立地测试</td>
<td>系统可以并行开发。可以很容易修改或者删除类，而不会影响系统的其他部分</td>
</tr>
<tr>
<td>函数的接口简单，定义明确</td>
<td>有明确的行为可以测试。测试简单接口所需的工作量较少</td>
<td>接口可以更容易让程序员学习，并且重用的可能性更大</td>
</tr>
</tbody>
</table>
<p>但注意不要走火入魔：</p>
<ul>
<li>牺牲真实代码的可读性，只是为了使能测试</li>
<li>着迷于100%的测试覆盖率</li>
<li>让测试称为产品开发的阻碍</li>
</ul>
</div></article></div><div class="post-paginator"><div class="post-links"><div class="post-prev"><a href="/2018/08/24/ux_way/《UX设计之道》—14.设计用户测试/" class="prev">Previous Post<span>《UX设计之道》—14.设计用户测试</span></a></div><div class="post-next"><a href="/2018/08/06/ux_way/《UX设计之道》—13.原型/" class="next">Next Post<span>《UX设计之道》—13.原型</span></a></div></div></div></div><div class="sidebar"><div class="social-links"><ul><li class="social-link"><a href="http://github.com/MichealWayne" target="_blank" class="link-github"><i class="icon icon-github"></i></a></li><li class="social-link"><a href="mailto:michealwayne@163.com" target="_self" class="link-mail"><i class="icon icon-mail"></i></a></li></ul></div><div class="recent-posts widget"><h3 class="widget-title"> Recent Posts</h3><div class="widget-content"><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2024/05/25/python/【笔记】《编写高质量Python代码的90个有效方法》-52至74/">【笔记】Effective Python《编写高质量 Python 代码的 90 个有效方法》——第 52 ～ 74 条读书笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2024/04/14/python/【笔记】《编写高质量Python代码的90个有效方法》-31至51/">【笔记】Effective Python《编写高质量 Python 代码的 90 个有效方法》——第 31 ～ 51 条读书笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2024/03/17/python/【笔记】《编写高质量Python代码的90个有效方法》-1至30/">【笔记】Effective Python《编写高质量 Python 代码的 90 个有效方法》——第 1 ～ 30 条读书笔记</a></li><li class="post-list-item"><a class="post-list-link" href="/2024/02/25/tools/【工具】prettier常见配置/">【工具】Prettier常见配置</a></li><li class="post-list-item"><a class="post-list-link" href="/2024/02/04/notes/【笔记】js内置数据深拷贝API-structuredClone/">【笔记】js 内置数据深拷贝 API-structuredClone</a></li></ul></div></div><div class="recent-comment widget"><h3 class="widget-title"> Author</h3><div class="widget-content"><div class="m-author"><div class="u-avatar"><img src="data:image/jpeg;base64,/9j/4AAQSkZJRgABAgAAZABkAAD/7AARRHVja3kAAQAEAAAAQgAA/+4ADkFkb2JlAGTAAAAAAf/bAIQABQMDAwQDBQQEBQcFBAUHCAYFBQYICggICAgICgwKCwsLCwoMDAwMDAwMDA8PEBAPDxYVFRUWGBgYGBgYGBgYGAEFBgYKCQoTDAwTFBEOERQYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgYGBgY/8AAEQgB7gH+AwERAAIRAQMRAf/EAIwAAQAABwEAAAAAAAAAAAAAAAABAgMEBQcIBgEBAAAAAAAAAAAAAAAAAAAAABAAAQMDAQQGBQcIBwYHAQAAAAECAxEEBQYhMUESUWGBMhMHcZGhIhSxQlJicoIIwdHxkqKyIxXwwtIzQ1Mk4XODo7MWYzREVJRVFxgRAQAAAAAAAAAAAAAAAAAAAAD/2gAMAwEAAhEDEQA/AOywAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABCv+wCIFldZzDWj+S6vreF30ZZmMX2qgFrcaz0rB38lbr/ALuRJP3OYC2//Q9H8yN/mDar/wCHJT90Cu3W+lHd3JQL6XU/IBcRam09J3Mjar/xmIvygXsVzbzJWGRkifUci/IBPVezgu0CIAAAAAAAAAAAAAAAAAAhzIiVVfSB5rUXmJg8Sjo43fGXaJ/dQqitRfrP3NAjoXNZfM2tzk71WNifJ4drAxKI1GJ7y1XatVXiB6UAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlVVTjwrXgBhstrfTWN5m3F4x0yVTwYf4j6pwVG1Rv3qAeWyXnHXmZjbGvRLcu3eljP7QHnch5javu1enxSW8bt8UDEby+h1Ff7QMLeZLIXtPjLmW5pu8aR0n7yqBb0Stabenj6wFEAUALt37fSAonQBFrnNdVqqi9SgZKz1VqO0p4GQnaifNdIr2+p1UAzmP82NTQJS5bDds4uczkX1so32Aelxfm1g7hKX0Utm5G8yuosrN/LvaiO/ZA9FjtT4DII34S+hkc7czmRr/wBV1HewDI8ydnSBEAAAAAAAAAAhVQLW/wAtj7CPxL25it2dMj0b6q7VA8pl/NvD2/MzHRPvJOEip4cXrX3v2QPEZvW2osvVtxOsNvxghqxiemi8zu1QMNDC+WVsUTeZ73I1jU38y8AN74HFsxmHtbBv+AxGuVOLt6r2qBfgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAUp7qC3hdNcSNiibtdI9Ua1E61UDxud82MXbK6HGRuu5u74rvciRemned2IB4bNaw1HluZtzcvbA9P/LxVZHy9CtSiu++qgYOa4ghSssjWcf4ionyqBZTakwUXeuWu+x7/AMiKBav1nhWd1JXdbWIn71AKTtdY75sEq9if2gJf++rD/wBtN62gTN11jF70M6djfzgVotZ4V+9Xs+0xV/dVQLyHUOEm7l1H95VZ+8BeRyxyN5ono9nS1UVPlAm28aIvWoABRNvWAogBaLwT1IBkLHUeesURLS+niY3cxJHcn6qqrfYBnrPzW1TCrUmWC5Tir2crv+XyoBm7PzjtlWl3jpI/rRSNf+y5GKBlbXzS0lK2skstv/vYnL/0+YDJQ610pN3MlAn+8d4f76IBX/7n03/9nZ//ACI/7QEkmrdMM35O1+7Mx3yKoFpL5g6Qi71+x32Gvf8AutUDHXPmzpmLZG24md9WNGp63OQDD33nHcqipZWDG9D55Of9llP3gPP5HzC1be7Fu/h413Mt2+GifeT3/aBgZZZZZFkle6SR3ee9Vcq9qgSgOxAPW+V2C+Ozvxsjf9PYoj6ruWR2xier3gNtgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlc6m3d2AeT1P5l4vGc9vYct9epsdyu/gxr9ZyVqvUnaqAam1R5greTuflL5JXIq8lrH7zGou5qMTZ6wPKXmun7WWduiNT58q/1WgYe61Dmbhf4ly5qL8xi8nrpQDHukRy1c5V9LkAl8aP6SfrIA8WL6TfWgEzXMXcte1AHt9QEfSoEFSu8ABPHLJG7mjcrHdLVovsAyFrqjNQLRLlZG/RmTnT1rVQMxZa7Yvu3lvRfpxKv7qgZuxzWMvafDzNc5fmKvK/1KBe06fYn5wIAAFEpTgAogBNgAAA2dCeoAAAca8QFE6AAACLWPe5rWoqucqI1qbVVV4Abt0dgG4XBw2rkT4h/wDEuF+u7aqfd3AZoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAALPKZfH4uzdd387YIGb3O4r0IiVqoGkvMLz0bO6WzsJFZaNVyKkTla6RvBXv+j9VANT5TW19eczVkVIuEMWxvoVd6oBh3ZOZe41E3V276dPSBRdd3KpTnVE6EonyAU3Pe7vOVfSoEoCidACidAACdssrdzl9YFSO/uG7nc3Yn5gK8eTf89n6v8AtArR5C2f86i9CgVkc1UqioqdW35AJurgAqAqvTT0AZXHarytp7qv8eH/AC5Kr7d4HpMfq3FXLUSV3w0v0ZO7+sgGYRUVKtVFT6VdnrQAAAAAAAAAAAAAAD2nlhplb3IfzS5b/pLVaQpwfNw/UTaoG1KIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAHnNc6+w2ksQ69vnI+d6KlnZo5EfPIid1KI6jU+c5UogHLWufNPVOrL50l/L4Nui1itIu5Gi7qV49YHk1c5e8teO3bt6doCq9KgKgQAAAAAAAAAAAEzJHsWrFVvo2AXUOSemyROZOlN/qAu4bmGVPcXb9Fd4FWiV27ukABD8gF1YZe/sn1tpnNam9m9vqWqAegsddJsbewf8SFf6qgZ6yy2PvURbadr1+hWjvUu32AXSotfzIv5QAAAAAAAAAC9wuIustk4bC1Sr5VRXPTajGcXL1IBu/FYy0xlhDZWzeWKFvKnSq8VX0gV57mGCNZJpGxxt2ue9aNRPSoHlpfNnRzs3b4bH3S5TI3MrYmQ2KeI1tV2uWTZHRqIqr725APXAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAPK+YvmNitH4nx51Sa/mRUs7NF96RU+cvQxvFePADmDUOpMzqDKzZTKTrNdSqqcUaxvzWMTZRqdAGByNuqL4zU2OVEcnWnECxAAAAAAAAAAAAAAAAAHGqbF6U2AXUGRkZ7r05m+0C/imjkbzMWqATgQ6esABFFVFqirzJxrt9YGRs9SZi1p4c6vYneZLRyL2qiqBmLXXXC6ttv0onf1V2gZGHV+Dk70qxqvzZGO+VqKBeR5vDv7t3F95yJ8qoBWbeWb+7MxfsvaoE/j2/wBNv6yfnAgtzap3pWJ95PzgUJMtio+9dxfrtX5ALWbVWBjWnxHOv0Y2Od7aAZ3TvnXpnTlhItli7i+yUq/x5ZnsgjRODWKiSup90Cwzf4jdcXrXR4+O1xsa7nRMWWX9aTmb+wB4XM6o1FmZOfK5C4vNtUbNI5zE9DK8qdiAbh/DlolY7abVdy33pua2x1U3RNX+JIiL9Jyctep3BUA3OAAAAAAAAAAAAAAAAAAAAAAAAAAAAB57XOuMZpPByZG9dzyrVlpbIqI6aXg1P6y8AOWNSajyuocxNlcnL4tzOuzfyxsTusYi7kQDHdfECDmo5qtdtauxUAxFzA+KVW/N3ov5AKYAAAAAAAAAAAAAAAAATfXiBMx72O5mrRQL+3yDXbJvdXp4AXSLVK8OkCIAB6AIUQCO0AAAVUCC0XeAAjVaU4dADZ/TqAAZ/QWjb3VWpbfFwo5sCr4t5O2i+FAneX0r83rA6yx+PtLCyhsrWNIra3Y2OGNu5rWpREAuAAAAAAAAAAAAAAAAAAAAAAAAAAAAWOazNhh8ZcZLISpDaWzFkleqV2JwTpcq7EA5V8wNcZDVuoJMjc8zLZlI7O2VapDFWqfed84Dz1V6fXtAAAKVzbpNErV7ybWqBiXNc1ytVKKgEAAAAAAAAAAAAAAAAAABGoFWC6miX3NrfortAvre9il2d13Q4C4XZ+dAAAAAAAAAAAAAmgikuLiOCFjnzSuRkUbUq57l2IjU6eIHUflN5eRaS08jJ2tdl7ukt9K3bReEbV+iwD2gAAAAAAAAAAAAAAAAAAAAAAAAAAAIVUDnbz58xnZnLLgMfLXF2D18d7Fqk1wnWm9sYGsAAAAAAtL625k8Vqe+neb0gY6q7OFN6AAAAAAAAAAAAAAAAAAABECAFeC9mj2d5nQoF9DeQSbK8ruhwFfZSvAAAAAAAAAATdt7FQDe3kT5WPsY2anzUPLdTNRcZbPTbEx3+I5q7nuTu9CdYG46IAAAAAAAAAAAAAAAAAAAAAAAAAAAAB4Hzp16mmdLuhtX0y2S5oLREWixt+fIvoTYnX6FA5kqoAAAAAACAY6/tUjXxG7l3oBaAAAAAAAAAAAAAAAAAAAAAARqBUhu5o0911W9CgXMeU/zG/qgXDby2dufy/aAqI5q7nIvoAmr29igFROkABCvb00VN3WoG3PJbyidk5YtR52FUx0bkksbV6Kizva6qSOT/LRdyceOwDflE6E2bQLbI5jFY2JZsheQWkSfPuJWRN7VeqIBYYLWmms7c3Fvh75l++1Rqzy26OfC3m3J4qN8NV6uatAM0AAAAAAAAAAAAAAAAAAAAAAAAAJJZWxRukkcjI2NVz3O2IiNSqqvUByb5layl1Tqy5yLa/BNcsNjHupAxV5Vou5z1VXAebAAAAAAAAg5qOarXJVF3oBirq1fC9OLF7rukCiAAAAAAAAAAAAAAAAAAAAAAAAAIork3KqehQJ23E7dz3esCdL26Tc/2J+YCb4+66fYgE1vlruG4ZM3ke5jkc1r2tc2rdqVRyKi9oHq5fPTzWlY1iZt8cbURrWxQW8SIibqckTaAYi/8xtfX9Uus9kJGrvZ8VK1n6rXI32AWmCwmc1NnbfF2KPuchdvRrFc5XUT5znuXcxqbVUDsHQOicZpDTkGIsWoqs/iXNxT3ppnd57vSB6AAAAAAAAAAAAAAAAAAAAAAAAAAa38/tXrh9ILjYHUvMsroNi0c2FtPEVPtbGdoHNy7d/pAAAAAAAAAAJZI2SMVjkq1eAGKngfC/lduXur0gUgAAAAAAAAAAAAAAAAAAAAAAAAAAARAgA4UAqW1tcXNxFbW8bpbiZ7Y44mJV7nu3NROIHVfkv5S2+jcSt3fMbJn7xrfiXpRWws4RM9HzncQNjAAAAAAAAAAAAAAAAAAAAAAAAAABy3506o/nuvLzw3K61x1bGDin8JffVPS9VA8UAAAAAAAAAAE2AUp4GzMc1+/wCaoGLlifE9WPSipuAkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAnghmmlZDCxZZpFRkcbEVXucu5ETi4DpbyP8k2abhjz2djSTPStrDAu1LNrt6dci8V4cANt8rejq7AIgAAAAAAAAAAAAAAAAAAAAAAAADB651CmA0lkstVEfbQuWCtKLK73I02/XVAOQ3Pc5Vc5VVzlVzlXaqqu9faBAAAAAAAAAAAAQoBTubdkrFa7Yqd1QMXLE+N/K9KKntAkAAAAAAAAAAAAAAAAAAAAAAAAAAC4x2PvsjexWVjA+4u53IyGCJFV7l6k6OlQOmPJ3yOtdKIzL5pGXWoHonhtROaO0Rd7WL8+Tpf6gNq0T8gAAAAAAAAAAAAAAAAAAAAAAAAAAANR/iXzaW+nsdiGLR97cLPIif5cCblTrc9F7ANBAAAAAAAAAAAAAAVApz28czFa5F2JVF3Ki9aqoFhcY67gibPJE9LZ6q1k6tVGOcm9EVURFX5OsC2AAAAAAAAAAAAAAAAAAAAAAAAM/orQWpNW5FLPEwK5jaePeP2QQou5Xu/qptXqA6b8t/KrT+i7FEgb8VlnonxWQen8TbvSNP8NidCbVA9wzlexK8d4E4AAAAAAAAAAAAAAAAAAAAAAAAAAAObvxEZb4zX62lasx1rDCqV2c70WZy+p7U7ANbgAAAAAAAAAAABDbtru4AZzSuh9S6muVhxNo6RjVpLcv9yGP7TtydlV6gN0aO8gNOYvkuc05crftSvI5FZbsd1MrzO+8qge4zGmMDlsJJhr+0ikxr0RqQNbytaqblby0Vqp0toBzh5oeRuc0s+bI4xHZDAp76Sp700DU4Stam1Prt7aAa3Wv6E2V9YAAAAAAAAAAAAAAAAAAAAJ4YZp5mQQMfLPI7kjjY1XOcvQiJVagbg8u/wAOGTv/AA7/AFY51hZr77cfGv8AqHpw513Rt9vTQDfeGwmJw1hHYYu1jtLSLuRRNolV3qvFXL0rtAvP0gVoFTkp0AVQAAAAAAAAAAAAAAAAAAAAAAAAAAAcieYl+t/rvNXSrzNfezsY7pZG/wANn7LUAwIAAAAAAAAAAAmhimmlZDExZJZFRI2RornuVeCNTaoG4PLzyBlk8PI6r5o296PFsdR7k6JXNVafZbResDctjYWNjaR2llAy3tok5YoYmoxrU6ERNwFdarv4AP0gQciORUciKi7FRdyp1oBqjzI/Dxhc06TI6dVmMya+++2VP9NM70J/dr1p7vUBoLUuk9Racvvg8zZSWkqr7ivSrJE6WPSrXJ1pX0AYrbspu4gAAAAAAAAAAAAAAAKltbz3M7Le2jfNO/uxRNVz3ehqVr2VA2boz8OWsMu5k+ZVMLYrtVkqc905OhI0X3fvqi9QG8tFeWOj9JQp/KrVrrulJL6dfEuHL9r5idTaIB6cAAAq2+9QKwAAAAAAAAAAAAAAAAAAAAAAAAAAU55mwwySv7sbXPcvU1KqBxbcTOmnkmk78j1kX0uWqr6wJAAAAAAAAAADJ6Z0tnNRZNuPxUCzTLRXu+ZG3i57tzUTim9eAHRPl95VYHScDZeVt3l3IjZb2RK8ip82JPmp17wPYoiIBEAAAAERE3AWuUxGLytm+zyVtHd2smx0M7Ue307dy9aAao1Z+GPT1851xp68fjpnf+mnrNAvodXxE9bgNY6i8ifMnDOcv8v/AJjCm3xscqz9nh0bL/ywPFXdleWkywXcElvOnejmjcxyfdcgFKi0/LwAgAAAAAABx37Oz5dgFS3t7i4lSKCN0sq92ONqvVexNoHsdP8Akl5l5lUWLFPs4l/xr9Ut0T0tcqyL2NA2Tpn8LeOi5ZdRZN9y5NrrayakTK9CyPq5futQDamnNF6V03F4WGx0NovGVreaV32pHK57u1wGYTZ8nZ0AP0AAAACeFV50AuAAAAAAAAAAAAAAAAAAAAAAAAAAAxeq5vB0tlpq0WOyuX16OWJy/kA46r+YAAAAAAAAAAz+h9C5nVmV+DsW8kDKLc3Tk/hxN41X6XQgHS2kdHYXTGKZj8bEja0dcTOp4kz13uevyJuQDMgAAAAAAAAFVAfpAt7/ABmNyEKw39rDdQrvjnjbI31ORUA8plPJHyvyKq+TCRQvXdJaufBT7sbmt9gHmr78MGg5qutry/tXL3U8SORidixq72gYi4/ClZu22+oHsToks0f8kzQLKT8Kd+ncz8TvtWrk+SVQH/8AKWQ8RW/9wRclfcX4V3MqdPL4oF3b/hQhTbPqFzk6GWaM/emUDL2P4XNExKi3d/kLhyd5rXRRovZ4au9oHo8X5F+VtgqObiG3Eid59zLJLX7rnKz2AesxuGxGMiSLG2cFnGm5lvEyJPUxEAu6bKcE3J0egBwp07+sAAAAAAACaNV8RALkAAAAAAAAAAAAAAAAAAAAAAAAAAMHr9VTQmfVN6Y28/6DwOQgAAAAAAAAGc0RovLarzTMfZN5Ymqj7q5clWQx8VVfkTeB0/pjS+J05iIsbjYvDhjRFe93fkfxe9U3qoGTAAAAAAAAAAAAAAr/AEoAqtKcAACqgPz1AAKJSnDoAVXpAAAAAAAAAAAEY/7xvpoBdAAAAAAAAAAAAAAAAAAAAAAAAAABhtdR+JonOxpvdjbxE7YXgcfgAAAAAAAX2AwOUzmWgxeOi8W7uHI1rdtGpxe5eDE4gdR6I0bjdLYCLG2ac0mx93c0o6aVd7l/MmwDO0Tdw30AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABGP+8T1gXQAAAAAAAAAAAAAAAAAAAAAAAAAAWOdtVusJf2yJVZraaJE6edjm/lA40AAAAAAAa1VcjU2uVUajeNV4AdI+TnlymmsIl9ex0zWQaizo6lYY17sadm1wHvQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAJ4kTxEAuAAAAAAAAAAAAAAAAAAAAAAAAAAAUQDjHM2HwOYvbHja3EkCp9h6tAtAAAAAA2h5DaB/m2WdqG/jR2PsHUt2OTZLcU39aRptXhzbOCgb+/ptAAAAAAAAAAAFC+v7GwtZLu9njt7WJFWSaVyMY1E4qq/wBOoDXuW/Ed5b2Ezoon3eQVuxz7SBOROusz4gKmD/ET5bZOdIZZ58dI7urexcrF+9G6RqfeVANhW1zbXMLJ7aVk0MnckjdzNcnU5NigTgAAAAAAAF3dldn5QPE6n87fL3ATOt57/wCLu2d+3sm+MqelyKkaL98DCWf4mvLqaZscsORtmr/iTQRqnqjlkd7ANgaf1Np/P2XxuGvor22RaOfE6qtXoe3Y5i/VciKBkQAAAAAAAJ4O+BcAAAAAAAAAAAAAAAAAAAAAAAAAAAA5T84cauP8yMzGie7NMl0zrS4a2Vf2nKB5IAAAAXmDw97mMva4yzajri7kbFHXr2qq9SN2qB1jpvA2WCwdpirJKW9rGjEdSjnOpV73dbl3gZEAAAAAAAAAApXd3bWdrLd3L0jt4GOllkXutY1KuVeqgHJXmj5m5XWeZe97liw8D1Wxsq+6iL896cXuA8fRKUps3UAUSlKbE3JwA2H5N+bGQ0llorG9kdLp66kayeNy1S2V60SSNF3cvFE2UA6naqOYjmqjkVEVFRaoqLuoAAAAAAABoj8QPm5fR3smksJO6BsNEytzEqo9XqlfCaqbU5U7ypt5vQoGjNgD5OgDK6X1XnNN5eLKYe4dDcRKnPVVVkrE3senFF6wOvNF6rx+qNNWeZsnIrLiNvjxpVFimRqeLGvMibWO2e3cBmQAAAAAAVbdu1VArAAAAAAAAAAAAAAAAAAAAAAAAAAAA0D+JnDeDqLG5Vqe5eWzrd6p9OB9dvpbInqA1IAAAANz/hz0c1UutUXLK77SwrSmxf4z07fd9YG512/IAAAAAAAAAAANe/iEys1j5Y3rIlVrryWG2VU+i96vcnoVrFTtA5XTYAAAP0Ade+T2WmyflnhLuVyukS2WByu3r8PI6Db6UaB60AAAAAJJ5WwwPmcvuMar17EqBxBkshc5DI3N/cOV091NLcSrWq8z1qvtAtwAEar+QDev4VMpMrM5jFcqwN+Guo0Xc1z0ex6p6URqAb0AAAAAABXgRUYirx3gVAAAAAAAAAAAAAAAAAAAAAAAAAAAAa6/EDgv5joCS7jbWbGSx3SU3+Gq+G9PU/m7AOawAACtYWVxfX1vZW7VdcXMscETV4vkVET2qB1vpzA2mDwNnibanh2kSRq6lEe5Eq9/3nbQMiAAAAAAAAAAAPEeeeAmzHlrko7dquuLXkvY2JtVyQO95E+4qgcmV3LsVFpt3oqJvpQAAAbvyovCq0TcB2P5ZYCfCaCw+NmTkuIrZHzMXe2SVVmenY56gejAAAAACV7GPY5jkq1yKjk6UXeBxRqTC3GEz99iLhFSWxnkh2pRXcq+670K3aBjgAADoD8LGCmixWWzcjVSO7kjtbdabFSCrnqnUqvT1AbqAAAAACCIqrQC8RERKJuQAAAAAAAAAAAAAAAAAAAAAAAAAAAAC2yePt8hj7iwuErb3MT4JWpv5ZGq1fYoHHWbxVxiczd4y5ok9nM+CSnFWOVK/epUC0AAbG/D/p1cjrN2RkbzQ4qLxkVd3jSe5Gi9feXsA6IqAAAAAAAAAAAAEHNa5qtciOa7Y5qpVFRdlAObPN7yPy+FyFzl8BbuucHK5ZZIYEV0lovFOXaro/rJu+dQDVKKlN6dez8taARa1zlRGorlXuom2vooBufyV8kclPkLfUepIFt7G3c2azsZ0o+Z6bWukThGi8FA6C/p+UAAAAAAADVXnh5OTalamdwjU/ncLOWa3rRLqJm1KKuxJG+3iBzhfWN7Y3ctpeQyW91C7llhlY6N7F+sjkRUAo13daUTdSoHsPLnyr1FrHIN8GKS2w7FRbnJSMXw0bxbHWiPf9VO1UA6swODxuDw9tisdGsVnaxpHGxVqqoiqqqq9K1AvgAAAAAnhbV9ejeBcAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEREQDnz8R2lVstQ2+fhbS3yLPBuHImxJ4kpt+0xE9SgapAAdE+QGD+A0N8a9tJsnO+aq7/AAo/4UaL2oru0DYoAAAAAAAAAAAAACbN2zgB5/L+W+g8tOs9/hbSad3fmSJGPd9pzOVV7QKuF0FovDSpNjMRaW06bp2xNWVPQ91Xe0DN+vb+gAAAAAAAAA4U4b+0DG5rS2m82xG5fHW19y9xZ4mvcz7LlSrewDE2flN5bWkyTQ4Cz50WqeJH4iep/MgHpo4oo42xxsaxjERrGtRERqJuoibgJgAAAAAAV4m0b6QKgAAAAAAAAAAAAAAAAAAAAAAAAAAAAADzfmPpJmp9I3uLonxCs8W0cvzZ2IvJ2OqrV9IHJk0UkUj4pEVksblY9jkorXIu1q9aAQYx73ta1Kq5eVqJvVVWiAdf6exTcVgbDGtRE+Ft4oVp0sZRV7VAvgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAE0beZ1OjeBc0SlAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABRAOdfxB6HXE6hbnrVlLDKO/jURaMuUSrk++nvJ2geO8vMa3I66w1oqVa+7ifInDkiXnd+yigdYJsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAK8LeVFd0gVAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABiNW6ZsdR6fusRebI7llGS0q6N6bWvTrav5gNFeT+l7/ABnm27H5CNGXeLiuZHom5eZvhI5PquR+wDoEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABNGzmdTgm8C5ogAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKAYibTuOdqJufa3kyCWr7F7kVEbJE+SN6c2zvNVnu+kC8TrAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAi1FctEAuGN5W048QJgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKIBQmiptTd0AUwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAVWtKVUCvDFypVe8BUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAKIBbyRq1ap3V49AEgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAXqArQx095d4FUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAFRFAoSRKi7NwFMAAAAAAAAAAAAAAAAAAAAAAAAAAAACPGlKqBUigolXeoCsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABRkgXezZ1AU+G6igQAAAAAAAAAAAAAAAAAAAAAAAAABqK5aJvAuGR8qV3u6QJ6AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEj4kctdwFB7XN2L6wIAAAAAAAAAAAAAAAAAAAAAAF6gJ2RK7bub0gV2sa1KNSgEaAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAqIqbQKLoeKeoCmrXJ3koBAAAAAAAAAAAAAAAAAAATNjc7cgFVsDU37QKgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAABQAqIu8Ck6Bq7loBTdFInCoEqrTeAAAAAAAAAAAAEUSu4CZsDl40AqNgam/aBUAUAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAoBBWtXegEiwsXdsAl+H+sBDwHgS+FL0APDk+iA8OT6IEfBk6AI+A8CPw/1gJ/BjTegE6IibgACgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAP/2Q=="></div><div class="u-author_tit"><p>My name is Micheal Wayne and this is my blog.<br>I am a front-end software engineer.<br>Contact: <a href="mailto:michealwayne@163.com"> <span>michealwayne@163.com</span></a></p></div></div></div></div><div class="tag-lists widget"><h3 class="widget-title"> Tags</h3><div class="widget-content"><ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/APM/">APM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BOM/">BOM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Bun/">Bun</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DOM/">DOM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/">HTML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/IDE/">IDE</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OKR/">OKR</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UML/">UML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UX/">UX</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WebApi/">WebApi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WebSocket/">WebSocket</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Zepto/">Zepto</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/ai/">ai</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/canvas/">canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/">css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/">docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/es/">es</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/es6/">es6</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/eslint/">eslint</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/gpt/">gpt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/html5/">html5</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/http/">http</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jQuery/">jQuery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lerna/">lerna</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lottie/">lottie</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/">nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nodejs/">nodejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/prettier/">prettier</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/prompt/">prompt</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/pwa/">pwa</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react/">react</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sketch/">sketch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/skywalking/">skywalking</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/taro/">taro</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tslint/">tslint</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/typescript/">typescript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/vue/">vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webApi/">webApi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webpack/">webpack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/代码规范/">代码规范</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端/">前端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/动效/">动效</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/图形/">图形</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/安全/">安全</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/小程序/">小程序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/工具/">工具</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/工程/">工程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/微前端/">微前端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/思维逻辑/">思维逻辑</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/性能/">性能</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/插件/">插件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/日常工作/">日常工作</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/架构/">架构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/概念/">概念</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/正则/">正则</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/浏览器/">浏览器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/用户体验/">用户体验</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/笔记/">笔记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法/">算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/编码/">编码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/网络协议/">网络协议</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/规范/">规范</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/设计模式/">设计模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/调试/">调试</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/质量/">质量</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/跨端/">跨端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/软件/">软件</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/软件工程/">软件工程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/项目管理/">项目管理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/高并发/">高并发</a></li></ul></div></div><div class="archive-lists widget"><h3 class="widget-title"> Archive</h3><div class="widget-content"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/05/">May 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/04/">April 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/03/">March 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/02/">February 2024</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2024/01/">January 2024</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/12/">December 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/11/">November 2023</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/10/">October 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/09/">September 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/08/">August 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/07/">July 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/06/">June 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/05/">May 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/04/">April 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/03/">March 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">February 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">December 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">October 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a><span class="archive-list-count">5</span></li></ul></div></div></div></div></div><footer><div class="copyright"><div class="container"><div class="col-6"><div class="site-info">© 2016 - 2024 <a href="http://blog.michealwayne.cn">Micheal Wayne</a></div></div><div class="col-6"><div class="site-contact"><div class="social-links"><ul><li class="social-link"><a href="http://github.com/MichealWayne" target="_blank" class="link-github"><i class="icon icon-github"></i></a></li><li class="social-link"><a href="mailto:michealwayne@163.com" target="_self" class="link-mail"><i class="icon icon-mail"></i></a></li></ul></div></div></div></div></div></footer><a class="scroll-up"><span class="icon icon-up"></span></a><script src="https://code.jquery.com/jquery-3.1.0.min.js"></script><script src="/js/posfixed.js"></script><script src="/js/utils.js"></script><script src="/js/search.js"></script></body></html>