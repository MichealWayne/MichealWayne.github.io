<!DOCTYPE html><html><head><meta name="generator" content="Hexo 3.9.0"><meta charset="utf-8"><meta name="X-UA-Compatible" content="IE=edge"><title> 重温《JavaScript高级程序设计》—16.事件（中）设备事件 | Wayne的博客</title><meta name="description" content="重温《JavaScript高级程序设计》—16.事件（中）设备事件 - Micheal Wayne"><meta name="viewport" content="width=device-width, initial-scale=1"><link rel="short icon" href="/favicon.png"><link rel="stylesheet" href="/scss/casual.css"><link rel="stylesheet" href="/css/icon.css"><link rel="search" type="application/opensearchdescription+xml" href="http://blog.michealwayne.cn/atom.xml" title="Wayne的博客"></head><script>(function (w) {w.frontjsConfig={token:"81a82620fb0dca7680f2f06be134fa4f",behaviour:8,FPSThreshold:10};w.frontjsTmpData = {r:[],e:[],l:[]};w.frontjsTmpCollector = function (ev) {(ev.message ? window.frontjsTmpData.e : window.frontjsTmpData.r).push([new Date().getTime(), ev])};w.FrontJS = {addEventListener: function (t, f) {w.frontjsTmpData.l.push([t, f]);return f;},removeEventListener: function (t, f) {for (var i = 0; i < w.frontjsTmpData.l.length; i++) {t === w.frontjsTmpData.l[i][0] && f === w.frontjsTmpData.l[i][1] && w.frontjsTmpData.l.splice(i, 1);}return f;}};w.document.addEventListener("error", w.frontjsTmpCollector, true);w.addEventListener("error", w.frontjsTmpCollector, true);w.addEventListener("load", function () {var n = w.document.createElement("script");n.src = "https://frontjs-static.pgyer.com/dist/current/frontjs.web.min.js"; w.document.body.appendChild(n);}, true);})(window);</script><body><div class="header"><header class="site-header"><div class="site-nav"><span class="button-toggle"></span><div class="container"><div class="nav-item"><a href="/" target="_self" data-text="home">主页</a></div><div class="nav-item"><a href="/archives" target="_self" data-text="archive">归档</a></div><div class="nav-item"><a href="/about" target="_self" data-text="about">关于</a></div></div><form id="search-form" class="nav-item"><input type="text" id="local-search-input" name="q" results="0" placeholder="搜索" autocomplete="off" autocorrect="off" class="search form-control"><span onclick="resetSearch()" class="fa fa-times"> </span></form><div id="local-search-result"></div><p class="no-result">No results found</p></div></header></div><div class="main"><div class="container"><div class="content"><div class="post"><article class="post-block"><h1 class="post-title">重温《JavaScript高级程序设计》—16.事件（中）设备事件</h1><span class="post-date">May 19, 2018</span><span class="post-tag"><a href="/tags/js/">js</a><a href="/tags/前端/">前端</a></span><img src="/images/20171105/icon.png" class="bgimage"><div class="post-content"><h5 id="本篇内容"><a href="#本篇内容" class="headerlink" title="本篇内容"></a>本篇内容</h5><ul>
<li>UI事件</li>
<li>焦点事件</li>
<li>鼠标与滚轮事件</li>
<li>键盘与文本事件</li>
<li>复合事件</li>
<li>变动事件</li>
<li>HTML5事件</li>
<li>设备事件</li>
<li>触摸与手势事件</li>
</ul>
<hr>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/Events" target="_blank" rel="noopener">mdn-事件列表</a></p>
<h2 id="4-事件类型"><a href="#4-事件类型" class="headerlink" title="4 事件类型"></a>4 事件类型</h2><p>Web浏览器中可能发生的事件有很多类型。如前所述，不同的事件类型具有不同的信息，而“DOM3级事件”规定了以下几类事件。</p>
<ul>
<li>UI(User Interface，用户界面）事件，当用户与页面上的元素交互时触发；</li>
<li>焦点事件，当元素获得或失去焦点时触发；</li>
<li>鼠标事件，当用户通过鼠标在页面上执行操作时触发；</li>
<li>滚轮事件，当使用鼠标滚轮（或类似设备）时触发；</li>
<li>文本事件，当在文档中输入文本时触发；</li>
<li>键盘事件，当用户通过键盘在页面上执行操作时触发；</li>
<li>合成事件，当为IME（Input Method Editor，输入法编辑器）输入字符时触发；</li>
<li>变动（mutation）事件，当底层DOM结构发生变化时触发。</li>
<li>变动名称事件，当元素或属性名变动时触发。此类事件已经被废弃，没有任何浏览器实现它们，无卵用</li>
</ul>
<blockquote>
<p>DOM3级事件模块在DO阳级事件模块基础上重新定义了这些事件，也添加了一些新事件。包括IE9在内的所有主流浏览帮都支持DOM2级事件。IE9也支持DOM3级事件。</p>
</blockquote>
<h3 id="4-1-UI事件"><a href="#4-1-UI事件" class="headerlink" title="4.1 UI事件"></a>4.1 UI事件</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/UIEvent" target="_blank" rel="noopener">mdn-UIEvent</a></p>
<p>UI事件事件指的是那些不一定与用户操作有关的事件。这些事件在DOM规范出现之前，都是以这种或那种形式存在的，而在DOM规范中保留是为了向后兼容。现有的UI事件如下。</p>
<ul>
<li>DOMActivate：表示元素已经被用户操作（通过鼠标或键盘）激活。这个事件在DOM3级事件中被废弃，但Firefox2+和Chrome支持它。考虑到不同浏览器实现的差异，不建议使用这个事件。</li>
<li>load：当页面完全加载后在window上面触发，当所有框架都加载完毕时在框架集上面触发，当图像加载完毕时在<code>&lt;img&gt;</code>元素上面触发， 或者当嵌入的内容加载完毕时在<code>&lt;object&gt;</code>元素上面 触发。</li>
<li>unload：当页丽完全卸载后在window上面触发，当所有框架都制裁后在框架集上面触发，或者当嵌入的内容卸载完毕后在<code>&lt;object&gt;</code>元素上面触发。</li>
<li>abort：在用户停止下载过程时．如果嵌入的内容没有加载完，则在<code>&lt;object&gt;</code>元素上面触发。</li>
<li>error：当发生JavaScript错误时在window上面触发，当无法加载图像时在<code>&lt;img&gt;</code>元素上面触发，当无法加载嵌入内容时在<code>&lt;object&gt;</code>元素上面触发，或者当有一或多个框架无法加载时在框架集上面触发。</li>
<li>select：当用户选择文本框（<code>&lt;input&gt;</code>或<code>&lt;textarea&gt;</code>）中的一或多个字符时触发。</li>
<li>resize：当窗口或框架的大小变化时在window或框架上面触发。</li>
<li>scroll：当用户滚动带滚动条的元素中的内容时，在该元素上面触发。<code>&lt;body&gt;</code>元素中包含所加载页面的滚动条。</li>
</ul>
<p>除了DOMActivate之外，其他事件在DOM2级事件中都归为HTML事件（DOMActivate在DOM2级中仍然属于UI事件）。要确定浏览器是否支持DOM2级事件规定的HTML事件，可以使用如下代码：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> isSupported = <span class="built_in">document</span>.implementation.hasFeature(<span class="string">'HTMLEvents'</span>, <span class="string">'2.0'</span>);</span><br></pre></td></tr></table></figure></p>
<p>要确定浏览器是否支持DOM3级事件定义的事件，可以使用如下代码：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> isSupported = <span class="built_in">document</span>.implementation.hasFeature(<span class="string">'UIEvent'</span>, <span class="string">'3.0'</span>);</span><br></pre></td></tr></table></figure></p>
<h4 id="4-1-1-load事件"><a href="#4-1-1-load事件" class="headerlink" title="4.1.1 load事件"></a>4.1.1 load事件</h4><p>JavaScript中最常用的一个事件就是load。当页面完全加载后（包括所有图像、JavaScript文件、css文件等外部资源），就会触发window上面的load事件。有两种定义onload事件处理程序的方式。</p>
<p>第一种<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">EventUtil.addHandler(<span class="built_in">window</span>, <span class="string">'load'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    alert(<span class="string">'loaded'</span>);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>第二种<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!Doctype <span class="meta-keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">title</span>&gt;</span>test<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">body</span> <span class="attr">onload</span>=<span class="string">"alert('loaded')"</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">"testDiv"</span>&gt;</span>click<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>一般来说，在window上面发生的任何事件都可以在<code>&lt;body&gt;</code>元素中通过相应的特性来指定，因为在HTML中无法访问window元素。实际上，这只是为了保证向后兼容的一种权宜之计，但所有浏览器都能很好地支持这种方式。</p>
<p><strong>图像上面也可以触发load事件，无论是在DOM中的图像元素还是HTML中的图像元素。</strong></p>
<blockquote>
<p>在不属于DOM文档的图像（包括未添加到文挡的<code>&lt;img&gt;</code>元素和Image对象）上触发load事件时，IE8及之前版本不会生成event对象。IE9修复了这个问题。</p>
</blockquote>
<p>还有一些元素也以非标准的为式支持load事件。在IE9+、Firefox、Opera、Chrome和Safari3+及更高版本中，<code>&lt;script&gt;</code>元素也会触发load事件，以便开发人员确定动态加载的JavaScript文件是否加载完毕。与图像不同，只有在设置了<code>&lt;script&gt;</code>元素的src属性并将该元素添加到文档后，才会开始下载JavaScript文件。换句话说，对于<code>&lt;script&gt;</code>元素而言，指定src属性和指定事件处理程序的先后顺序就不重要了。以下代码展示了怎样为<code>&lt;script&gt;</code>元素指定事件处理程序。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">EventUtil.addHandler(<span class="built_in">window</span>, <span class="string">'load'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> script = <span class="built_in">document</span>.createElement(<span class="string">'script'</span>);</span><br><span class="line">    EventUtil.addHandler(script, <span class="string">'load'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        alert(<span class="string">'loaded'</span>);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    script.src = <span class="string">'test.js'</span>;</span><br><span class="line">    docuemnt.body.appendChild(script);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>IE8及更早版本不支持<code>&lt;script&gt;</code>元素上的load事件。</p>
<h4 id="4-1-2-unload事件"><a href="#4-1-2-unload事件" class="headerlink" title="4.1.2 unload事件"></a>4.1.2 unload事件</h4><p>这个事件在文档被完全卸载后触发。只要用户从一个页面切换到另一个页面，就会发生unload事件。而利用这个事件最多的情况是消除引用，以避免内存泄漏。与load事件类似，也有两种制定onunload事件处理程序的方式。</p>
<p>既然unload事件是在一切都被卸载之后才触发，那么在页面加载后存在的那些对象，此时就不一定存在了。此时，操作DOM节点或者元素的样式就会导致错误。</p>
<h4 id="4-1-3-resize事件"><a href="#4-1-3-resize事件" class="headerlink" title="4.1.3 resize事件"></a>4.1.3 resize事件</h4><p>当浏览器窗口被调整到一个新的高度或宽度时，就会触发resize事件。这个事件在window（窗口）上面触发，因此可以通过JavaScript或者<code>&lt;body&gt;</code>元素中的onresize特性来指定事件处理程序。<br>关于何时会触发resize事件，不同浏览器有不同的机制。IE、Safari、Chrome和Opera会在浏览器窗口变化了1像素时就触发resize事件，然后随着变化不断重复触发。Firefox则只会在用户停止调整窗口大小时才会触发resize事件。由于存在这个差别，应该注意不要在这个事件的处理程序中加入大计算量的代码，因为这些代码有可能被频繁执行，从而导致浏览器反应明显变慢。</p>
<p>注意：<strong>浏览器窗口最小化或最大化时也会触发resize事件。</strong></p>
<h4 id="4-1-4-scroll事件"><a href="#4-1-4-scroll事件" class="headerlink" title="4.1.4 scroll事件"></a>4.1.4 scroll事件</h4><p>虽然scroll事件是在window对象上发生的，但它实际表示的则是页面中相应元素的变化。在混杂模式下，可以通过<code>&lt;body&gt;</code>元素的scrollLeft和scrollTop来监控到这一变化；而在标准模式下，除Safari之外的所有浏览器都会通过<code>&lt;html&gt;</code>元素来反映这一变化（Safari仍然基于<code>&lt;body&gt;</code>跟踪滚动位置）。与resize事件类似，scroll事件也会在文档被滚动期间重复被触发，所以有必要尽量保持事件处理程序的代码简单。</p>
<h3 id="4-2-焦点事件"><a href="#4-2-焦点事件" class="headerlink" title="4.2 焦点事件"></a>4.2 焦点事件</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/FocusEvent" target="_blank" rel="noopener">mdn-FocusEvent</a></p>
<p>焦点事件会在页面获得或失去焦点时触发。利用这些事件并与document.hasFocus()方法及 document.activeElement属性配合，可以知晓用户在页面上的行踪。有以下6个焦点事件。</p>
<ul>
<li>blur：在元素失去焦点时触发。这个事件不会冒泡：所有浏览器都支持它。</li>
<li>DOMFocusin：在元素获得焦点时触发。这个事件与HTML事件focus等价，但它冒泡。只有Opera支持这个事件。DOM3级事件废弃了DOMFocusin，选择了focusin。</li>
<li>DOMFocusOut：在元素失去焦点时触发。这个事件是HTML事件blur的通用版本。只有Opera支持这个事件。DOM3级事件废弃了DOMFocu sout，选择了focusout。</li>
<li>focus：在元素获得焦点时触发。这个事件不会冒泡；所有浏览器都支持它。</li>
<li>focusin：在元素获得焦点时触发。这个事件与日TML事件，focus等价，但它冒泡。支持这个事件的浏览器有IE5.5+、Safari5.1+、Opera11.5+和Chrome。</li>
<li>focusout：在元素失去焦点时触发。这个事件是HTML事件blur的通用版本。支持这个事件的浏览器有IE5.5+、Safari 5.1+、Opera 11.5+和Chrome。</li>
</ul>
<p>这一类事件中最主要的两个是focus和blur，它们都是JavaScript早期就得到所有浏览器支持的事件。这些事件的最大问题是它们不冒泡。</p>
<p>当焦点从页商中的一个元素移动到另一个元素，会依次触发下列事件：</p>
<ul>
<li>1.focusout在失去焦点的元素上触发；</li>
<li>2.focusin在获得焦点的元素上触发：</li>
<li>3.blur在失去焦点的元素上触发；</li>
<li>4.DOMFocusOUt在失去焦点的元素上触发；</li>
<li>5.focus在获得焦点的元素上触发；</li>
<li>6.DOMFocusin在获得焦点的元素上触发。</li>
</ul>
<p>其中，blur、DOMFocusOut和focusout的事件目标是失去焦点的元素；而focus、DOMFocusin和focusin的事件目标是获得焦点的元素。</p>
<h3 id="4-3-鼠标与滚轮事件"><a href="#4-3-鼠标与滚轮事件" class="headerlink" title="4.3 鼠标与滚轮事件"></a>4.3 鼠标与滚轮事件</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/MouseEvent" target="_blank" rel="noopener">mdn-MouseEvents</a></p>
<p>DOM3级事件中定义了9个鼠标事件</p>
<ul>
<li>click：在用户单击主鼠标按钮（一般是左边的按钮）或者按下回车键时触发。这一点对确保易访问性很重要，意味着onelick事件处理程序既可以通过键盘也可以通过鼠标执行。</li>
<li>dblclick：在用户双击主鼠标拨钮（一般是左边的按钮）时触发。从技术上说，这个事件并不是DOM2级事件规范中规定的，但鉴于它得到了广泛支持，所以DOM3级事件将其纳入了标准。</li>
<li>mousedown：在用户按下了任意鼠标按钮时触发。不能通过键盘触发这个事件。</li>
<li>mouseenter：在鼠标光标从元素外部首次移动到元素范围之内时触发。这个事件不冒泡，而且在光标移动到后代元素上不会触发。DOM2级事件并没有定义这个事件，但DOM3级事件将它<br>纳入了规范。IE、Firefox如和Opera支持这个事件。</li>
<li>mouseleave：在位于元素上方的鼠标光标移动到元素在范围之外时触发。这个事件不冒泡．而且在光标移动到后代元素上不会触发。DOM2级事件并没有定义这个事件，但DOM3级事件将它 纳入了规范。IE、Firefox9+和Opera支持这个事件。</li>
<li>mousemove：当鼠标指针在元素内部移动时重复地触发。不能通过键盘触发这个事件。</li>
<li>mouseout：在鼠标指针位于一个元素上方，然后用户将其移人另－个元素时触发。又移入的另一个元素可能位于前一个元素的外部，也可能是这个元素的子元素。不能通过键盘触发这个事件。</li>
<li>mouseover：在鼠标指针位于一个元素外部，然后用户将其首次移入另－个元素边界之内时触发。不能通过键盘触发这个事件。</li>
<li>mouseup：在用户释放鼠标梭钮时触发。不能通过键盘触发这个事件。</li>
</ul>
<p><strong>页面上的所有元素都支持鼠标事件</strong>。除了mouseenter和mouseleave，所有鼠标事件都会冒泡，也可以被取消，而取消鼠标事件将会影响浏览器的默认行为。取消鼠标事件的默认行为还会影响其他事件，因为鼠标事件与其他事件是密不可分的关系。</p>
<p>只有在同一个元素上相继触发mousedown和mouseup事件，才会触发click事件；如果mousedown或mouseup中的一个被取消，就不会触发click事件。类似地，只有触发两次click事件，才会触发一次dblclick事件。如果有代码阻止了连续两次触发click事件（可能是直接取消click事件，也可能通过取消mousedown或mouseup间接实现），那么就不会触发dblclick事件了。这4个事件触发的顺序始终如下：</p>
<ul>
<li>1.mousedown</li>
<li>2.mouseup</li>
<li>3.click</li>
<li>4.mousedown</li>
<li>5.mouseup</li>
<li>6.click</li>
<li>7.dblclick</li>
</ul>
<blockquote>
<p>IE8及之前版本中的实现有一个小bug，因此在双击事件中，会跳过第二个mousedown和click事件。</p>
</blockquote>
<p>鼠标事件中还有一类滚轮事件。其实就是一个mousewheel事件。</p>
<h4 id="4-3-1-客户区坐标位置"><a href="#4-3-1-客户区坐标位置" class="headerlink" title="4.3.1 客户区坐标位置"></a>4.3.1 客户区坐标位置</h4><p>鼠标事件都是在浏览器视口中的特定位置上发生的。这个位置信息保存在事件对象的clientX和clientY属性。所有浏览器都支持这两个属性，它们的值表示事件发生时鼠标指针在视口中的水平和垂直坐标。</p>
<p>可以使用如下代码获取鼠标事件的客户端坐标信息：<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div = docuemnt.getElementById(<span class="string">'test'</span>);</span><br><span class="line">EventUtil.addHandler(div, <span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    e = EventUtil.getEvent(e);</span><br><span class="line">    alert(e.clientX + <span class="string">','</span> + e.clientY);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<h4 id="4-3-2-页面坐标位置"><a href="#4-3-2-页面坐标位置" class="headerlink" title="4.3.2 页面坐标位置"></a>4.3.2 页面坐标位置</h4><p>通过客户区坐标能够知道鼠标是在视口中什么位置发生的，而页面坐标通过事件对象的pageX和pageY属性，能告诉你事件是在页而中的什么位置发生的。换句话说，这两个属性表示鼠标光标在页面中的位置，因此坐标是从页面本身而非视口的左边和顶边计算的。</p>
<p>可以使用如下代码获取鼠标事件在页面中的坐标</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div = docuemnt.getElementById(<span class="string">'test'</span>);</span><br><span class="line">EventUtil.addHandler(div, <span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    e = EventUtil.getEvent(e);</span><br><span class="line">    alert(e.pageX + <span class="string">','</span> + e.pageY);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>在页面没有滚动的情况下，pageX和pageY的值与clientX和clientY的值相等。</p>
<p>IE8及更早版本不支持事件，对象上的页面坐标，不过使用客户区坐标和滚动信息可以计算出来。这时候需要用到document.body（混杂模式）或document.documentElement（标准模式）中的scrollLeft和scrollTop属性。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div = docuemnt.getElementById(<span class="string">'test'</span>);</span><br><span class="line">EventUtil.addHandler(div, <span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    e = EventUtil.getEvent(e);</span><br><span class="line">    <span class="keyword">var</span> pageX = e.pagex. </span><br><span class="line">        pageY = e.pageY; </span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (pageX === <span class="literal">undefined</span>) &#123;</span><br><span class="line">        pageX = event.clientX + (<span class="built_in">document</span>.body.scrollLeft || <span class="built_in">document</span>.document Element.scrollLeft);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (pageY === <span class="literal">undefined</span>) &#123;</span><br><span class="line">        pageX = event.clientY + (<span class="built_in">document</span>.body.scrollTop || <span class="built_in">document</span>.document Element.scrollTop);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    alert(pageX + <span class="string">','</span> + pageY);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<h4 id="4-3-3-屏幕坐标位置"><a href="#4-3-3-屏幕坐标位置" class="headerlink" title="4.3.3 屏幕坐标位置"></a>4.3.3 屏幕坐标位置</h4><p>鼠标事件发生时，不仅会有相对于浏览器窗口的位置，还有－个相对于整个电脑屏幕的位置。而通过screenX和screenY属性就可以确定鼠标事件发生时鼠都指针相对于整个屏幕的坐标信息。</p>
<p>可以使用如下代码获取鼠标事件在屏幕中的坐标</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div = docuemnt.getElementById(<span class="string">'test'</span>);</span><br><span class="line">EventUtil.addHandler(div, <span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    e = EventUtil.getEvent(e);</span><br><span class="line">    alert(e.screenX + <span class="string">','</span> + e.screenY);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<h4 id="4-3-4-修改键"><a href="#4-3-4-修改键" class="headerlink" title="4.3.4 修改键"></a>4.3.4 修改键</h4><p>虽然鼠标事件主要是使用鼠标来触发的，但在按下鼠标时键盘上的某些键的状态也可以影响到所要采取的操作。这些修改键就是Shift、Ctrl、Alt和Meta（在Windows键盘中是Windows键，在苹果机中是Cmd键），它们经常被用来修改鼠标事件的行为。DOM为此规定了4个属性，表示这些修改键的状态：shiftKey、ctrlKey、altKey和metaKey。这些属性中包含的都是布尔值，如果相应的键被按下了，则值为true，否则值为false。当某个鼠标事件发生时，通过检测这儿个属性就可以确定用户是否同时按下了其中的键。</p>
<p>可以使用如下代码获取鼠标事件在屏幕中的坐标</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div = docuemnt.getElementById(<span class="string">'test'</span>);</span><br><span class="line">EventUtil.addHandler(div, <span class="string">'click'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    e = EventUtil.getEvent(e);</span><br><span class="line">    <span class="keyword">var</span> keys = [];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (e.shiftKey) keys.push(<span class="string">'shift'</span>);</span><br><span class="line">    <span class="keyword">if</span> (e.ctrlKey) keys.push(<span class="string">'ctrl'</span>);</span><br><span class="line">    <span class="keyword">if</span> (e.altKey) keys.push(<span class="string">'alt'</span>);</span><br><span class="line">    <span class="keyword">if</span> (e.metaKey) keys.push(<span class="string">'meta'</span>);</span><br><span class="line">    alert(keys.join(<span class="string">','</span>));</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>IE9、Safari、Chrome和Opera都支持这4个键。IE8及之前版本不支持metaKey属性。</p>
</blockquote>
<h4 id="4-3-5-相关元素"><a href="#4-3-5-相关元素" class="headerlink" title="4.3.5 相关元素"></a>4.3.5 相关元素</h4><p>在发生rnouseover和mouserout事件时，还会涉及更多的元素。这两个事件都会涉及把鼠标指针从一个元素的边界之内移动到另一个元素的边界之内。对mouseover事件而言，事件的主目标是获得光标的元素，而相关元素就是那个失去光标的元素。类似地，对mouseout事件而言，事件的主目标是失去光标的元素，而相关元素则是获得光标的元素。</p>
<p>DOM通过event对象的relatedTarget属性提供了相关元素的信息。这个属性只对于mouseover和mouseout事件才包含值；对于其他事件，这个属性的值是null。IE不支持realtedTarget属性，但提供了保存着同样信息的不同属性。在mouseover事件触发时，IE的fromElement属性中保存了相关元素；在mouseout事件出发时，IE的toElement属性中保存着相关元素。（IE9支持所有这些属性）可以把下面这个跨浏览器取得相关元素的方法添加到EventUtil对象中。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> EventUtil = &#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">    getRelatedTarget: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (e.relatedTarget) <span class="keyword">return</span> e.relatedTarget;</span><br><span class="line">        <span class="keyword">if</span> (e.toElement) <span class="keyword">return</span> e.toElement;</span><br><span class="line">        <span class="keyword">if</span> (e.fromElement) <span class="keyword">return</span> e.fromElement;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<h4 id="4-3-6-鼠标按钮"><a href="#4-3-6-鼠标按钮" class="headerlink" title="4.3.6 鼠标按钮"></a>4.3.6 鼠标按钮</h4><p>只有在主鼠标按钮被单击（或键盘回车键被按下）时才会触发click事件．因此检测按钮的信息并不是必要的。但对于mousedown和mouseup事件来说，则在其event对象存在一个button属性，表示按下或释放的按钮。DOM的button属性可能有如下3个值：0表示主鼠标按钮，1表示中间的鼠标按钮（鼠标滚轮按钮），2表示次鼠标按钮。在常规的设置中，主鼠标按钮就是鼠标左键， 而次鼠标按钮就是鼠标右键。</p>
<p>IE8及之前版本也提供了button属性，但这个属性的值与DOM的button属性有很大差异。</p>
<ul>
<li>0 ：表示没有按下按钮。</li>
<li>1：表示按下了主鼠标按钮。</li>
<li>2：表示按下了次鼠标按钮。</li>
<li>3：表示同时按下了主、次鼠标按钮。</li>
<li>4：表示按下了中间的鼠标按钮。</li>
<li>5 ：表示同时按下了主鼠标按钮和中间的鼠标按钮。</li>
<li>6：表示同时按下了次鼠标按钮和中间的鼠标按钮。</li>
<li>7：表示同时按下了三个鼠标按钮。</li>
</ul>
<p>不难想见，DOM模型下的button属性比IE模型下的button属性更简单也更为实用，因为同时按下多个鼠标按钮的情形十分罕见。最常见的做法就是将IE模型规范化为DOM方式，毕竟除IE8及更 早版本之外的其他浏览稽都原生支踌DOM模型。而对主、中、次按钮的映射并不困难，只要将IE的其他选项分别转换成如同按下这三个按键中的一个即可。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> EventUtil = &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    getButton: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="built_in">document</span>.implementation.hasFeature(<span class="string">'MouseEvents'</span>, <span class="string">'2.0'</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> e.button;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">switch</span> (e.button) &#123;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">0</span>:</span><br><span class="line">                <span class="keyword">case</span> <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">case</span> <span class="number">3</span>:</span><br><span class="line">                <span class="keyword">case</span> <span class="number">5</span>:</span><br><span class="line">                <span class="keyword">case</span> <span class="number">7</span>:</span><br><span class="line">                    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">2</span>:</span><br><span class="line">                <span class="keyword">case</span> <span class="number">6</span>:</span><br><span class="line">                    <span class="keyword">return</span> <span class="number">2</span>;</span><br><span class="line">                <span class="keyword">case</span> <span class="number">4</span>:</span><br><span class="line">                    <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></p>
<h4 id="4-3-7-更多的事件信息"><a href="#4-3-7-更多的事件信息" class="headerlink" title="4.3.7 更多的事件信息"></a>4.3.7 更多的事件信息</h4><p>“DOM2级事件”规范在event对象中还提供了detail属性，用于给出有关事件的更多信息。对于鼠标事件来说，detail中包含了一个数值。表示在给定位置上发生了多少次单击。在同一个像蒙上相继地发生一次mousedown和一次mouseup事件算作一次单击。detail属性从1开始计数，每次单击发生都会递增。如果鼠标在mousedown和mouseup之间移动了位置，则detail会被重量为0。</p>
<h4 id="4-3-8-鼠标滚轮事件"><a href="#4-3-8-鼠标滚轮事件" class="headerlink" title="4.3.8 鼠标滚轮事件"></a>4.3.8 鼠标滚轮事件</h4><p>IE6.0首先实现了mousewheel事件。此后，Opera、Chrome和Safari也都实现了这个事件。<br>这个事件可以在任何元素上面触发，最终会冒泡到document（IE8）或window对象。与mousewheel事件对应的event对象除包含鼠标事件的所有标准信息外，还包含一个特殊的wheelDelta属性。当用户向前滚动鼠标滚轮时，wheelDelta是120的倍数；当用 户向后滚动鼠标滚轮时，wheelDelta是-120的倍数。</p>
<p>将mousewheel事件处理程序指定给页闺中的任何元素或document对象，即可处理鼠标滚轮的交互操作。<br>如<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">EventUtil.addHandler(<span class="built_in">document</span>, <span class="string">'mousewheel'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    e = EventUtil.getEvent(e);</span><br><span class="line">    alert(e.wheelDelta);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<p>Firefox支持一个名为DOMMouseScroll的类似事件，也是在鼠标滚轮滚动时触发。与mousewheel事件－样，DOMMouseScroll也被视为鼠标事件，因而包含与鼠标事件有关的所有属性。而有关鼠标滚轮的信息则保存在detail属性中，当向前滚动鼠标滚轮时，这个属性的值是-3的倍数，当向后滚动鼠标滚轮时，这个属性的值是3的倍数。 可以将DOMMouseScroll事件添加到页面中的任何元素，而且该事件会冒泡到window对象。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> EventUtil = &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    getWheelDelta: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (e.wheelDelta) &#123;</span><br><span class="line">            <span class="keyword">return</span> (client.engine.opera &amp;&amp; client.engine.opera &lt; <span class="number">9.5</span> ? </span><br><span class="line">            -e.wheelDelta : e.wheelDelta);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> -e.detail * <span class="number">40</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<h4 id="4-3-9-触摸设备"><a href="#4-3-9-触摸设备" class="headerlink" title="4.3.9 触摸设备"></a>4.3.9 触摸设备</h4><ul>
<li>不支持dblclick事件。双击浏览器窗口会放大画面，而且没有办法改变该行为。</li>
<li>轻击可单击元素会触发mousemove事件。如果此操作会导致内容变化，将不再有其他事件发生；如果屏幕没有因此变化，那么会依次发生mousedown、mouseup和click事件。轻击不可单击的元素不会触发任何事件。可单击的元素是指那些单击可产生默认操作的元素（如链接），或者那些已经被指定了onclick事件处理程序的元素。</li>
<li>mousemove事件也会触发mouseover和mouseout事件。</li>
<li>两个手指放在屏幕上且页面随手指移动而滚动时会触发mousewheel和scroll事件。</li>
</ul>
<h4 id="4-3-10-无障碍性问题"><a href="#4-3-10-无障碍性问题" class="headerlink" title="4.3.10 无障碍性问题"></a>4.3.10 无障碍性问题</h4><p>如果你的Web应用程序或网站要确保残疾人特别是那些使用屏幕阅读嚣的人都能访问，那么在使用鼠标事件时就要格外小心。前面提到过，可以通过键盆上的回车键来触发click事件，但其他鼠标事件却无法通过键盘来触发。为此，我们不建议使用click之外的其他鼠标事件来展示功能或引发代码执行。因为这样会给盲人或视障用户造成极大不便。以下是在使用鼠标事件时应当注意的几个易访问性问题。</p>
<ul>
<li>使用click事件执行代码。有人指出通过onmousedown执行代码会让人觉得速度更快，对视力正常的人来说这是没错的。但是，在屏幕阅读器中，由于元法触发mousedown事件，结果就会造成代码无法执行。</li>
<li>不要使用omnouseover向用户显示新的选项。原因同上，屏幕阅读器无法触发这个事件。如果确实非要－通过这种方式来显示新选项，可以考虑添加显示相同信息的键盘快捷方式。</li>
<li>不要使用dblclick执行重要的操作。键盘无法触发这个事件。</li>
</ul>
<h3 id="4-4-键盘与文本事件"><a href="#4-4-键盘与文本事件" class="headerlink" title="4.4 键盘与文本事件"></a>4.4 键盘与文本事件</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/KeyboardEvent" target="_blank" rel="noopener">mdn-KeyboardEvent</a><br>有3个键盘事件。</p>
<ul>
<li>keydown：当用户按下键盘上的任意键时触发，而且如果按住不放的话，会重复触发此事件。</li>
<li>keypress：当用户按下键盘上的字符键时触发，而且如果按住不放的话，会重复触发此事件。按下Esc键也会触发这个事件。Safari3.1之前的版本也会在用户按下非字符键时触发keypress事件。</li>
<li>keyup；当用户释放键盘上的键时触发。</li>
</ul>
<p>只有一个文本事件：textInput。这个事件是对keypress的补充，用意是在将文本显示给用户之前更容易拦截文本。在文本插入文本框之前会触发textInput事件。</p>
<p>在用户按了一下键盘上的字符键时，首先会触发keydown事件，然后紧跟着是keypress事件，最后会触发keyup事件。<br>其中，keydown和keypress都是在文本眶发生变化之前被触发的；而keyup事件则是在文本框已经发生变化之后被触发的。如果用户按下了一个字符键不放，就会重复触发key down和keypress事件，直到用户松开该键为止，此时会触发keyup事件。</p>
<h4 id="4-4-1-键码"><a href="#4-4-1-键码" class="headerlink" title="4.4.1 键码"></a>4.4.1 键码</h4><p>在发生keydown和keyup事件时，event对象的keyCode属性中会包含一个代码，与键盘上一个特定的键对应。对数字字母字符键，keyCode属性的值与ASCII码中对应小写字母或数字的编码相<br>同。因此，数字键7的keyCode值为55，而字母A键的keyCode值为65——与Shift键的状态无关。DOM和IE的event对象都支持keyCode属性。</p>
<p>如<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> textbox = docuemnt.getElementById(<span class="string">'textInput'</span>);</span><br><span class="line">EventUtil.addHandler(textbox, <span class="string">'keyup'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    e = EventUtil.getEvent(e);</span><br><span class="line">    alert(e.keyCode);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<table>
<thead>
<tr>
<th>键码</th>
<th>键值</th>
</tr>
</thead>
<tbody>
<tr>
<td>8</td>
<td>‘Backspace’</td>
</tr>
<tr>
<td>9</td>
<td>‘Tab’</td>
</tr>
<tr>
<td>13</td>
<td>‘Enter’</td>
</tr>
<tr>
<td>16</td>
<td>‘Shift’</td>
</tr>
<tr>
<td>17</td>
<td>‘Ctrl’</td>
</tr>
<tr>
<td>18</td>
<td>‘Alt’</td>
</tr>
<tr>
<td>19</td>
<td>‘Pause’</td>
</tr>
<tr>
<td>20</td>
<td>‘Caps Lock’</td>
</tr>
<tr>
<td>27</td>
<td>‘Escape’</td>
</tr>
<tr>
<td>32</td>
<td>‘Space’</td>
</tr>
<tr>
<td>33</td>
<td>‘Page Up’</td>
</tr>
<tr>
<td>34</td>
<td>‘Page Down’</td>
</tr>
<tr>
<td>35</td>
<td>‘End’</td>
</tr>
<tr>
<td>36</td>
<td>‘Home’</td>
</tr>
<tr>
<td>37</td>
<td>‘Left’</td>
</tr>
<tr>
<td>38</td>
<td>‘Up’</td>
</tr>
<tr>
<td>39</td>
<td>‘Right’</td>
</tr>
<tr>
<td>40</td>
<td>‘Down’</td>
</tr>
<tr>
<td>42</td>
<td>‘Print Screen’</td>
</tr>
<tr>
<td>45</td>
<td>‘Insert’</td>
</tr>
<tr>
<td>46</td>
<td>‘Delete’</td>
</tr>
<tr>
<td>48</td>
<td>‘0’</td>
</tr>
<tr>
<td>49</td>
<td>‘1’</td>
</tr>
<tr>
<td>50</td>
<td>‘2’</td>
</tr>
<tr>
<td>51</td>
<td>‘3’</td>
</tr>
<tr>
<td>52</td>
<td>‘4’</td>
</tr>
<tr>
<td>53</td>
<td>‘5’</td>
</tr>
<tr>
<td>54</td>
<td>‘6’</td>
</tr>
<tr>
<td>55</td>
<td>‘7’</td>
</tr>
<tr>
<td>56</td>
<td>‘8’</td>
</tr>
<tr>
<td>57</td>
<td>‘9’</td>
</tr>
<tr>
<td>65</td>
<td>‘A’</td>
</tr>
<tr>
<td>66</td>
<td>‘B’</td>
</tr>
<tr>
<td>67</td>
<td>‘C’</td>
</tr>
<tr>
<td>68</td>
<td>‘D’</td>
</tr>
<tr>
<td>69</td>
<td>‘E’</td>
</tr>
<tr>
<td>70</td>
<td>‘F’</td>
</tr>
<tr>
<td>71</td>
<td>‘G’</td>
</tr>
<tr>
<td>72</td>
<td>‘H’</td>
</tr>
<tr>
<td>73</td>
<td>‘I’</td>
</tr>
<tr>
<td>74</td>
<td>‘J’</td>
</tr>
<tr>
<td>75</td>
<td>‘K’</td>
</tr>
<tr>
<td>76</td>
<td>‘L’</td>
</tr>
<tr>
<td>77</td>
<td>‘M’</td>
</tr>
<tr>
<td>78</td>
<td>‘N’</td>
</tr>
<tr>
<td>79</td>
<td>‘O’</td>
</tr>
<tr>
<td>80</td>
<td>‘P’</td>
</tr>
<tr>
<td>81</td>
<td>‘Q’</td>
</tr>
<tr>
<td>82</td>
<td>‘R’</td>
</tr>
<tr>
<td>83</td>
<td>‘S’</td>
</tr>
<tr>
<td>84</td>
<td>‘T’</td>
</tr>
<tr>
<td>85</td>
<td>‘U’</td>
</tr>
<tr>
<td>86</td>
<td>‘V’</td>
</tr>
<tr>
<td>87</td>
<td>‘W’</td>
</tr>
<tr>
<td>88</td>
<td>‘X’</td>
</tr>
<tr>
<td>89</td>
<td>‘Y’</td>
</tr>
<tr>
<td>90</td>
<td>‘Z’</td>
</tr>
<tr>
<td>91</td>
<td>‘Windows’</td>
</tr>
<tr>
<td>93</td>
<td>‘Right Click’</td>
</tr>
<tr>
<td>96</td>
<td>‘Numpad 0’</td>
</tr>
<tr>
<td>97</td>
<td>‘Numpad 1’</td>
</tr>
<tr>
<td>98</td>
<td>‘Numpad 2’</td>
</tr>
<tr>
<td>99</td>
<td>‘Numpad 3’</td>
</tr>
<tr>
<td>100</td>
<td>‘Numpad 4’</td>
</tr>
<tr>
<td>101</td>
<td>‘Numpad 5’</td>
</tr>
<tr>
<td>102</td>
<td>‘Numpad 6’</td>
</tr>
<tr>
<td>103</td>
<td>‘Numpad 7’</td>
</tr>
<tr>
<td>104</td>
<td>‘Numpad 8’</td>
</tr>
<tr>
<td>105</td>
<td>‘Numpad 9’</td>
</tr>
<tr>
<td>106</td>
<td>‘Numpad *’</td>
</tr>
<tr>
<td>107</td>
<td>‘Numpad +’</td>
</tr>
<tr>
<td>109</td>
<td>‘Numpad -‘</td>
</tr>
<tr>
<td>110</td>
<td>‘Numpad .’</td>
</tr>
<tr>
<td>111</td>
<td>‘Numpad /‘</td>
</tr>
<tr>
<td>112</td>
<td>‘F1’</td>
</tr>
<tr>
<td>113</td>
<td>‘F2’</td>
</tr>
<tr>
<td>114</td>
<td>‘F3’</td>
</tr>
<tr>
<td>115</td>
<td>‘F4’</td>
</tr>
<tr>
<td>116</td>
<td>‘F5’</td>
</tr>
<tr>
<td>117</td>
<td>‘F6’</td>
</tr>
<tr>
<td>118</td>
<td>‘F7’</td>
</tr>
<tr>
<td>119</td>
<td>‘F8’</td>
</tr>
<tr>
<td>120</td>
<td>‘F9’</td>
</tr>
<tr>
<td>121</td>
<td>‘F10’</td>
</tr>
<tr>
<td>122</td>
<td>‘F11’</td>
</tr>
<tr>
<td>123</td>
<td>‘F12’</td>
</tr>
<tr>
<td>144</td>
<td>‘Num Lock’</td>
</tr>
<tr>
<td>145</td>
<td>‘Scroll Lock’</td>
</tr>
<tr>
<td>182</td>
<td>‘My Computer’</td>
</tr>
<tr>
<td>183</td>
<td>‘My Calculator’</td>
</tr>
<tr>
<td>186</td>
<td>‘;’</td>
</tr>
<tr>
<td>187</td>
<td>‘=’</td>
</tr>
<tr>
<td>188</td>
<td>‘,’</td>
</tr>
<tr>
<td>189</td>
<td>‘-‘</td>
</tr>
<tr>
<td>190</td>
<td>‘.’</td>
</tr>
<tr>
<td>191</td>
<td>‘/‘</td>
</tr>
<tr>
<td>192</td>
<td>‘`‘</td>
</tr>
<tr>
<td>219</td>
<td>‘[‘</td>
</tr>
<tr>
<td>220</td>
<td>‘\‘</td>
</tr>
<tr>
<td>221</td>
<td>‘]’</td>
</tr>
<tr>
<td>222</td>
<td>‘\’’</td>
</tr>
</tbody>
</table>
<blockquote>
<p>无论keydown或keyup事件都会存在的一些特殊情况。在Firefox和Opera中，按分号键时keyCode值为59，也就是ASCII中分号的编码；但IE和Safari返回186，即键盘中按键的键码。</p>
</blockquote>
<h4 id="4-4-2-字符编码"><a href="#4-4-2-字符编码" class="headerlink" title="4.4.2 字符编码"></a>4.4.2 字符编码</h4><p>发生keypress事件意味着按下的键会影响到屏幕中文本的显示。在所有浏览器中，按下能够插入或删除字符的键都会触发keypress事件；按下其他键能否触发此事件因浏览器而异。由于截止到2008年，尚无浏览器实现DOM3级事件规范，所以浏览器之间的键盘事件并没有多大的差异。</p>
<p>IE9、Firefox、Chrome和Safari的event对象都支持一个charCode属性，这个属性只有在发生keypress事件时才包含值，而且这个值是按下的那个键所代表字符的ASCII编码。此时的keyCode 通常等于0或者也可能等于所按键的键码。IE8及之前版本和Opera则是在keyCode中保存字符的ASCII编码。要想以跨浏览器的方式取得字符编码，必须首先检测charCode属性是否可用，如果不可用则使用keyCode，如下面的例子所示。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">EventUtil = &#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">    getCharCode: <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> e.charCode === <span class="string">'number'</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> e.charCode;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> e.keyCode;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure>
<p>这个方法首先检测charCode属性是否包含数值（在不支持这个属性的浏览器中，值为undefined）,如果是，则返回该值。否则就返回keyCode属性值。 </p>
<p>在取得了字符编码之后，就可以使用String.formCharCode()将其转换成实际的字符。</p>
<h4 id="4-4-3-DOM3级变化"><a href="#4-4-3-DOM3级变化" class="headerlink" title="4.4.3 DOM3级变化"></a>4.4.3 DOM3级变化</h4><p>DOM3级事件中的键盘事件，不再包含charCode属性。而是包含两个新属性：key和char。</p>
<p>其中，key属性是为了取代keyCode而新增的，它的值是一个字符串。在按下某个字符键时，key的值就是相应的文本字符（如’k’或’M’）；在按下非字符键时，key的值是相应键的名（如 ‘Shift’或’Down’）。而char属性在按下字符键时的行为与key相同，但在按下非字符键时值为null。</p>
<p>IE9支持key属性，但不支持char属性。Safari和Chrome支持名为keyIdentifier的属性，在按下非字符键（例如Shift）的情况下与key的值相同。对于字符键，keyIdentifier返回一个格式 类似’U+0000’的字符串，表示Unicode值。</p>
<p><strong>由于存在跨浏览器问题，因此不推荐使用key、keyIdentifier或char。</strong></p>
<p>DOM3级事件还添加了一个名为location的属性，这是一个数值，表示按下了什么位置上的键：</p>
<ul>
<li>0表示默认键盘，</li>
<li>1表示左侧位置（例如左位的Alt键）， </li>
<li>2表示右侧位置（例如右侧的Shift键）</li>
<li>3表示数字小键盘，</li>
<li>4表示移动设备键盘（也就是虚拟键盘）， </li>
<li>5表示手柄（如任天堂Wii控制器）。</li>
</ul>
<p>IE9支持这个属性。Safari和Chrome支持名为keyLocation的等价属性，但有bug——值始终是0，除非按下了数字键盘（此时值为3）；否则不会是1、2、4、5。</p>
<p>与key属性一样．支持location的浏览器也不多，所以在跨浏览器开发中不推荐使用。</p>
<p>最后是给event对象添加了getModifierState()方法。这个方法接收一个参数，即等于Shift、Control、AltGraph或Meta的字符串，表示要检测的修改键。如果指定的修改键是活动的（也就是处于被按下的状态），这个方法返回true，否则返回false。</p>
<h4 id="4-4-4-textInput事件"><a href="#4-4-4-textInput事件" class="headerlink" title="4.4.4 textInput事件"></a>4.4.4 textInput事件</h4><p>“DOM3级事件”规范中引入了一个新事件．名叫textInput。根据规范，当用户在可编辑区域中输入字符时，就会触发这个事件。这个用于替代keypress的textinput事件的行为稍有不同。区别<br>之一就是任何可以获得焦点的元素都可以触发keypress事件，但只有可编辑区域才能触发textInput事件。区别之二是textInput事件只会在用户按下能够输入实际字符的键时才会被触发，而keypress事件则在按下那些能够影响文本显示的键时也会触发（例如退格键）。<br>由于textInput事件主要考虑的是字符，因此它的event对象中还包含一个data属性，这个属性的值就是用户输入的字符（而非字符编码）。<br>比如用户在小写模式下，按下了S键，data值就是’s’，而如果在大写模式下按下该键，data的值就是’S’</p>
<p>如<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> textbox = <span class="built_in">document</span>.getElementById(<span class="string">'textInput'</span>);</span><br><span class="line">EventUtil.addHandler(textbox, <span class="string">'textInput'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    e = EventUtil.getEvent(e);</span><br><span class="line">    alert(e.data);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<p>另外，event对象上还有一个属性，叫inputMethod，表示把文本输入到文本框中的方式。</p>
<ul>
<li>0，表示浏览器不确定是怎么输入的。</li>
<li>l，表示是使用键盘输入的。</li>
<li>2，表示文本是帖贴进来的。</li>
<li>3，表示文本是拖放进来的。</li>
<li>4，袋示文本是使用削E输入的。</li>
<li>5，表示文本是通过在表单中选择某一项输入的。</li>
<li>6，表示文本是通过孚写输入的（比如使用手写笔）。</li>
<li>7，表示文本是通过语音输入的。</li>
<li>8，表示文本是通过几种方法组合输入的。</li>
<li>9，表示文本是通过脚本输入的。</li>
</ul>
<p>支持textInput属性的浏览器有IE9+、Safari和Chrome。只有IE支持inputMethod属性。</p>
<h4 id="4-4-5-设备中的键盘事件"><a href="#4-4-5-设备中的键盘事件" class="headerlink" title="4.4.5 设备中的键盘事件"></a>4.4.5 设备中的键盘事件</h4><p>任天堂Wii会在用户按下Wii遥控器上的按键时触发键盘事件。尽管没有办法访问Wii遥控器中的所有按键，但还是有－些键可以触发键盘事件。<br>iOS版Safari和Android版WebKit在使用屏幕键盘时会触发键盘事件。</p>
<h3 id="4-5-复合事件"><a href="#4-5-复合事件" class="headerlink" title="4.5 复合事件"></a>4.5 复合事件</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/CompositionEvent" target="_blank" rel="noopener">mdn-CompositionEvent</a><br>复合事件（composition event）是DOM3级事件中新添加的一类事件，用于处理IME的输入序列。IME（Input Method Editor，输入法编辑器）可以让用户输入在物理键盘上找不到的字符。例如，使用拉丁文键盘的用户通过IME照样能输入日文字符。但通常需要同时按住多个键，但最终只输入一个字 符。复合事件就是针对检测和处理这种输入而设计的。有以下三种复合事件。</p>
<ul>
<li>compositionstart：在IME的文本复合系统打开时触发，表示要开始输入了。</li>
<li>compositionupdate：在向输入字段中插入新字符时触发。</li>
<li>compositionend：在IME的文本复合系统关闭时触发，表示返回正常键盘输入状态。</li>
</ul>
<p>复合事件与文本事件在很多方面都很相似。在触发复合事件时，目标是接收文本的输入字段。但它比文本事件的事件对象多一个属性data。</p>
<blockquote>
<p>IE9+是到2011年唯一支持复合事件－的浏览器。由于缺少支持，对于需要开发跨浏览糕应用的开发人员，它的用处不大。</p>
</blockquote>
<h3 id="4-6-变动事件"><a href="#4-6-变动事件" class="headerlink" title="4.6 变动事件"></a>4.6 变动事件</h3><p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/MutationEvent" target="_blank" rel="noopener">mdn-MutationEvent</a><br>DOM2级的变动（mutation）事件能在DOM中的某一部分发生变化时给出提示。变动事件是为XML或HTMLDOM设计的，并不特定于某种语言。DOM2级定义了如下变动事件。</p>
<ul>
<li>DOMSubtreeModified；在DOM结构中发生任何变化时触发。这个事件在其它也任何事件触发后都会触发。</li>
<li>DOMNodeInserted：在一个节点作为子节点被插入到另一个节点中时触发。</li>
<li>DOMNodeRemoved：在节点从其父节点中被移除时触发。</li>
<li>DOMNodeinsertedintoDocument：在一个节点被直接插入文档或通过子树间接插入文档之后触发。这个事件在DOMNodelnserted之后触发。</li>
<li>DOMNodeRemovedFromDocument: 在一个节点被直接从文档中移除或通过子树间接从文档中移除之前触发。这个事件在DOMNodeRemoved之后触发。</li>
<li>DOMAttrModified：在特性被修改之后触发。</li>
<li>DOMCharacterDataModified：在文本节点的值发生变化时触发。</li>
</ul>
<blockquote>
<p>IE8及更早版本不支持任何变动事件。由于DOM3级事件模块作废了很多变动事件，所以本节只介绍那些将来仍然会得到支持的事件。</p>
</blockquote>
<h4 id="4-6-1-删除节点"><a href="#4-6-1-删除节点" class="headerlink" title="4.6.1 删除节点"></a>4.6.1 删除节点</h4><p>在使用removeChild()或replaceChild()从DOM中删除节点时，首先会触发DOMNodeRemoved事件。这个事件的目标（event.target）是被删除的节点，而event.related.Node属性中包含着对 目标节点父节点的引用。在这个事件触发时，节点尚未从其父节点删除，因此其parentNode属性仍然指向父节点（与event.relatedNode但相同）。这个事件会冒泡，因而可以在DOM的任何层次上面处理它。</p>
<p>如果被移除的节点包含子节点，那么在其所有子节点以及这个被移除的节点上会相继触发DOMNodeRemovedFromDocument事件。但这个事件不会冒泡，所以只有直接指定给其中一个子节点的事件处理程序才会被调用。这个事件的目标是相应的子节点或者那个被移除的节点，除此之外event对象中不包含其他信息。紧随其后触发的是DOMSubtreeModified事件。这个事件的目标是被移除节点的父节点；此时的event对象也不会提供与事件相关的其他信息。</p>
<p>如<br><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">ul</span> <span class="attr">id</span>=<span class="string">"list"</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>item 1<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>item 2<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">li</span>&gt;</span>item 3<span class="tag">&lt;/<span class="name">li</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">ul</span>&gt;</span></span><br></pre></td></tr></table></figure></p>
<p>假设要移除<code>&lt;ul&gt;</code>元素。此时，就会依次触发以下事件。</p>
<ul>
<li>1.在<code>&lt;ul&gt;</code>元素上触发DOMNodeRemoved事件。relatedNode属性等于document.body。</li>
<li>2.在<code>&lt;ul&gt;</code>元素上触发DOMNodeRemovedFromDocument事件。</li>
<li>3.在身为<code>&lt;Ul&gt;</code>元素子节点的每个<code>&lt;li&gt;</code>元素及文本节点上触发DOMNodeRemovedFromDocument事件。</li>
<li>4.在document.body上触发DOMSubtreeModified事件，因为<code>&lt;ul&gt;</code>元素是document.body的直接子元素。</li>
</ul>
<h4 id="4-6-2-插入节点"><a href="#4-6-2-插入节点" class="headerlink" title="4.6.2 插入节点"></a>4.6.2 插入节点</h4><p>在使用appendChild()、replaceChild()或insertBefore()向DOM中插入节点时，首先会触发DOMNodeinserted事件。这个事件的目标是被插入的节点，而event.relatedNode属性中包含 一个对父节点的引用。在这个事件触发时，节点已经被插入到了新的父节点中。这个事件是冒泡的，因此可以在DOM的各个层次上处理它。<br>紧接着，会在新插入的节点上面触发DOMNodeinsertedintoDocument事件。这个事件不冒泡，因此必须在插入节点之前为它添加这个事件处理程序。这个事件的目标是被插入的节点，除此之外 event对象中不包含其他信息。<br>最后一个触发的事件是DOMSubtreeModified，触发于新插入节点的父节点。</p>
<h3 id="4-7-HTML5事件"><a href="#4-7-HTML5事件" class="headerlink" title="4.7 HTML5事件"></a>4.7 HTML5事件</h3><p>DOM规范没有涵盖所有浏览器支持的所有事件。很多浏览器出于不同的目的——满足用户需求或解决特殊问题，还实现了一些自定义的事件。 HTML5详尽列出了浏览器应该支持的所有事件。本节只讨论其中得到浏览器完善支持的事件，但并非全部事件。</p>
<h4 id="4-7-1-contextmenu事件"><a href="#4-7-1-contextmenu事件" class="headerlink" title="4.7.1 contextmenu事件"></a>4.7.1 contextmenu事件</h4><p>为了实现上下文菜单，开发人员面临的主要问题是如何确定应该显示上下文菜单（在windows中，是右键单击；在Mac中是Ctrl+单击），以及如何屏蔽与该操作关联的默认上下文菜单。为解决这个问题，就出现了contextmenu这个事件，用以表示何时应该显示上下文菜单，以便开发人员取消默认的上下文菜单而提供自定义的菜单。</p>
<p>由于contextmenu事件是冒泡的，因此可以为document指定一个事件处理程序，用以处理页面中发生的所有此类事件。这个事件的目标是发生用户操作的元素。在所有浏览器中都可以取消这个事件：在兼容DOM的浏览器中，使用event.preventDefalut()；在血中，将event.returnValue的值设置为false。因为contextmenu事件属于鼠标事件，所以其事件对象中包含与光标位置有关的所有属性。通常使用contextmenu事件来显示自定义的上下文菜单，而使用onclick事件处理程序来隐藏该菜单。</p>
<p>支持contextmenu事件的浏览器有IE、Firefox、Safari、Chrome和Opera 11+。</p>
<h4 id="4-7-2-beforeunload事件"><a href="#4-7-2-beforeunload事件" class="headerlink" title="4.7.2 beforeunload事件"></a>4.7.2 beforeunload事件</h4><p>之所以有发生在window对象上的beforeunload事件，是为了让开发人员有可能在页面卸载前阻止这－操作。这个事件会在浏览器卸载页面之前触发，可以通过它采取消卸载并继续使用原有页面。但是，不能彻底取消这个事件，因为那就相当于让用户无法离开当前页面了。为此，这个事件的意图是将控制权交给用户。显示的消息会告知用户页面行将被卸载（正因为如此才会显示这个消息），询问用户是否真的要关闭页面，还是希望继续留下来。为了显示这个弹出对话框，必须将event.returnValue的值设置为要显示给用户的字符串（对IE及Firefox而言），同时作为函数的值返回（对Safari和Chrome而言）。</p>
<p>如<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">EventUtil.addHandler(<span class="built_in">window</span>, <span class="string">'beforeunload'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    e = EventUtil.getEvent(e);</span><br><span class="line">    <span class="keyword">var</span> message = <span class="string">'Are you ok?'</span>;</span><br><span class="line">    e.returnValue = message;</span><br><span class="line">    <span class="keyword">return</span> message;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></p>
<blockquote>
<p>IE和Firefox，Safari和Chrome都支持beforeunload事件，也都会弹出这个对话框询问用户是否真想离开。Opera11及之前的版本不支持beforeunload事件。</p>
</blockquote>
<h4 id="4-7-3-DOMContentLoaded事件"><a href="#4-7-3-DOMContentLoaded事件" class="headerlink" title="4.7.3 DOMContentLoaded事件"></a>4.7.3 DOMContentLoaded事件</h4><p>window的load事件会在页面中的一切都加载完毕时触发，但这个过程可能会因为要加载的外部资源过多而颇费周折。而DOMContentLoaded事件则在形成完整的DOM树之后就会触发，不理会图像、JavaScript文件、css文件或其他资源是否已经下载完毕。与load事件不同，DOMContentLoaded支持在页面下载的早期添加事件处理程序，这也就意味着用户能够尽早地与页面进行交互。</p>
<p>要处理DOMContentLoaded事件，可以为document或window添加相应的事件处理程序。（尽管这个事件会冒泡到window，但它的目标实际上是document）。</p>
<blockquote>
<p>DOMContentLoaded事件对象不会提供任何额外的信息（其target属性是document）。</p>
</blockquote>
<p>Firefox、Chrome、Safari 3.1及更高的版本和Opera 9及更高版本都支持DOMContentLoaded事件，通常这个事件既可以添加事件处理程序，也可以执行其它DOM操作。这个事件始终都会在load事件之前触发。</p>
<p>对于不支持DOMContentLoaded的浏览器．我们建议在页面加载期间设置一个时间为0毫秒的超时调用。如<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">setTimeout(<span class="function"><span class="keyword">function</span> (<span class="params"></span>) </span>&#123;</span><br><span class="line">    <span class="comment">// ...</span></span><br><span class="line">&#125;, <span class="number">0</span>);</span><br></pre></td></tr></table></figure></p>
<p>这段代码实际意思是：“在当前JavaScript处理完成后立即运行这个函数。”在页面下载和构建期间，只有一个JavaScript处理过程，因此超时调用会在该过程结束时立即触发。至于这个事件与DOMContentLoaded被触发的时间是否同步，主要还是取决与用户使用的浏览器页面中的其它代码。为了确保这个方法有效，必须将其作为页面中的第一个超时调用；即便如此，也还是无法保证在所有浏览器中该超时调用一定会遭遇load事件被触发。</p>
<h4 id="4-7-4-readystatecbange事件"><a href="#4-7-4-readystatecbange事件" class="headerlink" title="4.7.4 readystatecbange事件"></a>4.7.4 readystatecbange事件</h4><p>IE为DOM文档中的某些部分提供了readystatechange事件。这个事件的目的是提供与文档或元素的加载状态有关的信息，但这个事件的行为有时候也很难预料。支持readystatechange事件的 每个对象都有一个readyState属性，可能包含下列5个镜中的一个。</p>
<ul>
<li>uninitialized （未初始化）：对象存在但尚未初始化。</li>
<li>loading （正在加载）：对象正在加载数据。</li>
<li>loaded （加载完毕）：对象加载数据完成。</li>
<li>interactive（交互）：可以操作对象了． 但还没有完全加载。</li>
<li>complete（完成）：对象已经加载完毕。</li>
</ul>
<p>这些状态看起来很直观，但并非所有对象都会经历readyState的这几个阶段。换句话说，如果某个阶段不适用某个对象，则该对象完全可能跳过该阶段；并没有规定哪个阶段适用于哪个对象。显然，这意味着readystatechange事件经常会少于4次.而readyState属性的值也不总是连续的。<br>对于document而言，值为”interactive”的readyState会在与DOMContentLoaded大致相同的时刻触发readystatechange事件。此时，DOM树已经加载完毕，可以安全地操作它了，因此就会进入交互(interactive)阶段。但与此同时，图像及其他外部文件不一定可用。<br>来看一段处理readystatechange事件的代码。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">EventUtil.addHandler(docuemnt, <span class="string">'readystatechange'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (docuemnt.readyState === <span class="string">'interactive'</span>) &#123;</span><br><span class="line">        alert(<span class="string">'Content loaded'</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>在与load事件一起使用时，无法预测两个事件触发的先后顺序。在包含较多或较大的外部资源的页面中，会在load事件触发之前先进入交互阶段；而在包含较少或较小的外部资源的页商中，则很难说readystatechange事件会发生在load事件前面。</p>
<p>让问题变得更复杂的是，交互阶段可能会早于也可能会晚于完成阶段出现，无法确保顺序。在包含较多外部资源的页面中，交互阶段更有可能早于完成阶段出现；而在页面中包含较少外部资源的情况下，完成阶段先于交互阶段出现的可能性更大。因此，为了尽可能抢到先机，有必要同时检测交互和完成阶段。如</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">EventUtil.addHandler(<span class="built_in">document</span>, <span class="string">'readystatechange'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">document</span>.readyState === <span class="string">'interactive'</span> ||</span><br><span class="line">        <span class="built_in">document</span>.readyState === <span class="string">'complete'</span>) &#123;</span><br><span class="line">            EventUtil.removeHandler(<span class="built_in">document</span>, <span class="string">'readystatechange'</span>, <span class="built_in">arguments</span>.callee);</span><br><span class="line">            alert(<span class="string">'content loaded'</span>);</span><br><span class="line">        &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>
<p>对于上面的代码来说，当readystatechange事件触发时，会检测document.readyState的值，看当前是否已经进入交互阶段或完成阶段。如果是，则移除相应的事件处理程序以免在其他阶段再执行。注意，由于事件处理程序使用的是匿名函数，因此这里使用了arguments.call回来引用该函数。然后，会显示一个警告框，说明内容已经加载完华。 这样编写代码可以达到与使用DOMContentLoaded十分相近的效果。</p>
<blockquote>
<p>支持readystatechange事件的浏览器有IE、Firfox4+和Opera。</p>
</blockquote>
<blockquote>
<p>虽然使用readystatechange可以十分近似地模拟DOMContentLoaded事件，但它们本质还是不同的。不同页面中，load事件与readystatechange事件不能保证以相同的顺序触发。</p>
</blockquote>
<p>另外，<code>&lt;script&gt;</code>（在lE和Opera中）和<code>&lt;link&gt;</code>（仅IE中）元素也会触发readystatechange事件，可以用来确定外部的JavaScript和css文件是否已经加载完成。与在其他浏览概中一样，除非把动态创建的元素添加到页面中，否则浏览器不会开始下载外部资源。基于元素触发的readystatechange事件也存在同样的问题，即readyState属性无论等于”loaded”还是”complete”都可以表示资源已经可用。有时候，readyState会停在”loaded”阶段而永远不会”完成”。有时候，又会跳过”loaded”阶段而直接”完成”。于是，还需要像对待document一样采取相同的编码方式。</p>
<h4 id="4-7-5-pageshow和pagehide事件"><a href="#4-7-5-pageshow和pagehide事件" class="headerlink" title="4.7.5 pageshow和pagehide事件"></a>4.7.5 pageshow和pagehide事件</h4><p>Firefox和Opera有一个特性，名叫”往返缓存”（back-forward cache，或bfcache），可以在用户使用浏览器的“后退”和“前进”按钮时加快页面的转换速度。这个缰存中不仅保存着页面数据，还保存了DOM和JavaScript的状态；实际上是将整个页面都保存在了内存里。如果页面位于bfcache中，那么再次打开该页面时就不会触发load事件。尽管由于内存中保存了整个页面的状态，不触发load事件也不应该会导致什么问题．但为了更形象地说明bfcache的行为，Firefox还是提供了一些新事件。</p>
<ul>
<li>第一个事件就是pageshow，这个事件在页面显示时触发，无论该页而是否来自bfcacheo在重新加载的页面中，pageshow会在load事件触发后触发；而对于bfcache中的页面，pageshow会在页面状 态完全恢复的那一刻触发。另外要注意的是，虽然这个事件的目标是document，但必须将其事件处理程序添加到window。</li>
</ul>
<p>这个例子使用了私有作用域，以防止变量showCount进入全局作用域。当页面首次加载完成时，showcount的值为0。此后，每当触发pageshow事件，showCount的值就会递增并通过警告框显示出来。如果你在离开包含以上代码的页面之后，又单击“后退”按钮返回该页面，就会看到showCount每次递增的值。这是因为该变量的状态，乃至整个页面的状态，都被保存在了内存中，当你返回这个页面时，它们的状态得到了恢复。如果你单击了浏览器的“刷新”按钮，那么shoWCount的值就会被重置为0，因为页面已经完全重新加载了。</p>
<ul>
<li>除了通常的属性之外，pageshow事件的event对象还包含一个名为persisted的布尔值属性。 如果页面被保存在了bfcache中，则这个属性的值为true；否则，这个属性的值为false。可以像下面这样在事件处理程序中检测这个属性。<br>通过检测persisted属性，就可以根据页面在bfcache中的状态来确定是否需要采取其他操作。<br>与pageshow事件对应的是pagehide事件，该事件会在浏览器倒载页面的时候触发，而且是在unload事件之前触发。与pageshow事件一样，pagehide在document上面触发但其事件处理程序必须要添加到window对象。这个事件的event对象也包含persisted属性，不过用图有所不同。<br>有时候，可能需要在pagehide事件触发时根据persisted的值采取不同的操作。对于pageshow事件，如果页面是从bfcache中加载的，那么persisted的值就是true；对于pagehide事件，如果 页而在卸裁之后会被保存在bfcache中，那么persisted的值也会被设置为true。因此，当第一次触发pageshow时，persisted的值一定是false，而在第一次触发pagehide时，persisted就会变成true（除非页而不会被保存在bfcache中）。</li>
</ul>
<blockquote>
<p>支持pageshow和pagehide事件的浏览器有Firefox、Safari 5+、Chrome和Opera。IE9及之前版本不支持这两个事件。</p>
</blockquote>
<p>指定了onunload事件处理程序的页面会被自动排除在 “往返缓存”之外，即使事件处理程序是空的。原因在于，onunload 最常用于撤销在onload中所执行的操作，而跳过onload 后再次显示页面很可能就会导致页面不正常</p>
<h4 id="4-7-6-hashchange事件"><a href="#4-7-6-hashchange事件" class="headerlink" title="4.7.6 hashchange事件"></a>4.7.6 hashchange事件</h4><p>HTMLS新增了haschange事件，以便在URL的参数列表（及URL中“＃”号后面的所有字符串）发生变化时通知开发人员。之所以新增这个事件，是因为在Ajax应用中，开发人员经常要利用URL参数列来保存状态或导航信息。必须要把hashchange事件处理程序添加给window对象，然后URL参数列表只要变化就会调用它。此时的event对象应该额外包含两个属性：oldURL和newURL。这两个属性分别保存着参数列表变化前后的完整URL。如<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">EventUtil.addHandler(<span class="built_in">window</span>, <span class="string">'hashchange'</span>, <span class="function"><span class="keyword">function</span> (<span class="params">e</span>) </span>&#123;</span><br><span class="line">    alert(e.oldURL + <span class="string">','</span> + e.newURL);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></p>
<p>支持haschange事件的浏览器有IE8+、Firefox 3.6+、Safari 5+、Chrome和Opera 10.6+。在这些 浏览器中，只有Firefox、Chrome和Opera支持oldURL和 newURL属性。为此，最好是使用location对象来确定当前的参数列表。</p>
<h3 id="4-8-设备事件"><a href="#4-8-设备事件" class="headerlink" title="4.8 设备事件"></a>4.8 设备事件</h3><p>设备事件（device event）可以让开发人员确定用户在怎样使用设备。</p>
<p><a href="https://developer.mozilla.org/zh-CN/docs/Web/API/Detecting_device_orientation" target="_blank" rel="noopener">mdn-检测设备方向</a></p>
<h4 id="4-8-1-orientationchange事件"><a href="#4-8-1-orientationchange事件" class="headerlink" title="4.8.1 orientationchange事件"></a>4.8.1 orientationchange事件</h4><p>苹果公司为移动Safari中添加了orientationchange事件，以便开发人员能够确定用户何时将设备由横向查看模式切换为纵向查看模式。移动Safari的window.orientation属性中可能包含 3个值：</p>
<ul>
<li>0 表示肖像模式，</li>
<li>90 表示向左旋转的横向模式（“主屏幕”按钮在右侧），</li>
<li>-90 表示向右旋转的横向模 式（“主屏幕”按钮在左侧）。</li>
</ul>
<p>相关文档中还提到一个值，即180表示iPhone头朝下；但这种模式至今尚未得到支持。如图展示了window.orientation 的每个值的含义。</p>
<p><img src="/images/20180519/p3.png" alt="orientationchange"></p>
<p>只要用户改变了设备的查看模式，就会触发orientationchange事件。此时的event对象不包含任何有价值的信息，因为唯一相关的信息可以通过window.orientation访问到。下面是使用这个 事件的典型示例。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> div = <span class="built_in">document</span>.getElementById(<span class="string">"myDiv"</span>);</span><br><span class="line">    div.innerHTML = <span class="string">"Current orientation is "</span> + <span class="built_in">window</span>.orientation; </span><br><span class="line">    EventUtil.addHandler(<span class="built_in">window</span>, <span class="string">"orientationchange"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123;</span><br><span class="line">           div.innerHTML = <span class="string">"Current orientation is "</span> + <span class="built_in">window</span>.orientation;</span><br><span class="line">           &#125;);</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure></p>
<p>所有iOS设备都支持orientationchange事件和window.orientation 属性。 </p>
<blockquote>
<p> 由于可以将orientationchange看成window事件，所以也可以通过指定<code>&lt;body&gt;</code>元素的onorientationchange特性来指定事件处理程序。 </p>
</blockquote>
<h4 id="4-8-2-MozOrientation-事件"><a href="#4-8-2-MozOrientation-事件" class="headerlink" title="4.8.2 MozOrientation 事件"></a>4.8.2 MozOrientation 事件</h4><p>Firefox 3.6为检测设备的方向引入了一个名为MozOrientation的新事件（前缀Moz表示这是特定于浏览器开发商的事件，不是标准事件。）当设备的加速计检测到设备方向改变时，就会触发这个事 件。但这个事件与iOS中的orientationchange事件不同，该事件只能提供一个平面的方向变化。由于MozOrientation事件是在window对象上触发的，所以可以使用以下代码来处理。 </p>
<p>因为不是很有必要，所以不在此详细描述。</p>
<h4 id="4-8-3-deviceorientation-事件"><a href="#4-8-3-deviceorientation-事件" class="headerlink" title="4.8.3 deviceorientation 事件"></a>4.8.3 deviceorientation 事件</h4><p>本质上，DeviceOrientation Event规范定义的deviceorientation事件与MozOrientation事件类似。它也是在加速计检测到设备方向变化时在window对象上触发，而且具有与MozOrientation事件相同的支持限制。不过，deviceorientation事件的意图是告诉开发人员设备在空间中朝向哪儿，而不是如何移动。<br>设备在三维空间中是靠x、y和z轴来定位的。当设备静止放在水平表面上时，这三个值都是0。x轴方向是从左往右，y轴方向是从下往上，z轴方向是从后往前（如图所示）。 </p>
<p><img src="/images/20180519/p4.png" alt="orientationchange"></p>
<p>触发deviceorientation事件时，事件对象中包含着每个轴相对于设备静止状态下发生变化的信息。事件对象包含以下5个属性。 </p>
<ul>
<li>alpha：在围绕 z轴旋转时（即左右旋转时），y轴的度数差；是一个介于0到 360之间的浮点数。</li>
<li>beta：在围绕 x轴旋转时（即前后旋转时）， z轴的度数差；是一个介于-180到180之间的浮点数。</li>
<li>gamma：在围绕y轴旋转时（即扭转设备时），z轴的度数差；是一个介于-90到90之间的浮点数。</li>
<li>absolute：布尔值，表示设备是否返回一个绝对值。 </li>
<li>compassCalibrated：布尔值，表示设备的指南针是否校准过。如图是alpha、beta和gamma值含义的示意图。 </li>
</ul>
<p><img src="/images/20180519/p5.png" alt="orientationchange"></p>
<p> 下面是一个输出alpha、beta和gamma值的例子。<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">EventUtil.addHandler(<span class="built_in">window</span>, <span class="string">"deviceorientation"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123; </span><br><span class="line">   <span class="keyword">var</span> output = <span class="built_in">document</span>.getElementById(<span class="string">"output"</span>); </span><br><span class="line">   output.innerHTML = <span class="string">"Alpha="</span> + event.alpha + <span class="string">", Beta="</span> + event.beta + <span class="string">", Gamma="</span> + event.gamma + <span class="string">"&lt;br&gt;"</span>;</span><br><span class="line">    &#125;);</span><br></pre></td></tr></table></figure></p>
<pre><code>通过这些信息，可以响应设备的方向，重新排列或修改屏幕上的元素。要响应设备方向的改变而旋 转元素，可以参考如下代码。         
</code></pre><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">EventUtil.addHandler(<span class="built_in">window</span>, <span class="string">"deviceorientation"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123; </span><br><span class="line">           <span class="keyword">var</span> arrow = <span class="built_in">document</span>.getElementById(<span class="string">"arrow"</span>);</span><br><span class="line">           arrow.style.webkitTransform = <span class="string">"rotate("</span> + <span class="built_in">Math</span>.round(event.alpha) + <span class="string">"deg)"</span>; </span><br><span class="line">   &#125;);</span><br></pre></td></tr></table></figure>
<h4 id="4-8-4-devicemotion-事件"><a href="#4-8-4-devicemotion-事件" class="headerlink" title="4.8.4 devicemotion 事件"></a>4.8.4 devicemotion 事件</h4><p>DeviceOrientation Event规范还定义了一个devicemotion事件。这个事件是要告诉开发人员设备什么时候移动，而不仅仅是设备方向如何改变。例如，通过devicemotion能够检测到设备是不是正在往下掉，或者是不是被走着的人拿在手里。<br>触发 devicemotion 事件时，事件对象包含以下属性。 </p>
<ul>
<li>acceleration：一个包含 x、y 和 z 属性的对象，在不考虑重力的情况下，告诉你在每个方向上的加速度。</li>
<li>accelerationIncludingGravity：一个包含 x、y 和z属性的对象，在考虑z轴自然重力加速度的情况下，告诉你在每个方向上的加速度。</li>
<li>interval：以毫秒表示的时间值，必须在另一个devicemotion事件触发前传入。这个值在每个事件中应该是一个常量。 </li>
<li>rotationRate：一个包含表示方向的alpha、beta和gamma属性的对象。如果读取不到acceleration、accelerationIncludingGravity和rotationRate值，则它们的值为null。因此，在使用这三个属性之前，应该先检测确定它们的值不是null。</li>
</ul>
<p>如<br><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">EventUtil.addHandler(<span class="built_in">window</span>, <span class="string">"devicemotion"</span>, <span class="function"><span class="keyword">function</span>(<span class="params">event</span>)</span>&#123; </span><br><span class="line">       <span class="keyword">var</span> output = <span class="built_in">document</span>.getElementById(<span class="string">"output"</span>);</span><br><span class="line">        <span class="keyword">if</span> (event.rotationRate !== <span class="literal">null</span>)&#123; </span><br><span class="line">              output.innerHTML += <span class="string">"Alpha="</span> + event.rotationRate.alpha + <span class="string">", Beta="</span> + event.rotationRate.beta + <span class="string">", Gamma="</span> + event.rotationRate.gamma; </span><br><span class="line">       &#125;</span><br><span class="line"> &#125;);</span><br></pre></td></tr></table></figure></p>
<h3 id="4-9-触摸与手势事件"><a href="#4-9-触摸与手势事件" class="headerlink" title="4.9 触摸与手势事件"></a>4.9 触摸与手势事件</h3><h4 id="4-9-1-触摸事件"><a href="#4-9-1-触摸事件" class="headerlink" title="4.9.1 触摸事件"></a>4.9.1 触摸事件</h4><p>触摸事件会在用户手指放在屏幕上面时、在屏幕上滑动时或从屏幕上移开时触发。具体来说，有以下几个触摸事件。</p>
<ul>
<li>touchstart：当手指触摸屏幕时触发；即使已经有一个手指放在了屏幕上也会触发。</li>
<li>touchmove：当手指在屏幕上滑动时连续地触发。在这个事件发生期间，调用preventDefault()可以阻止滚动。</li>
<li>touchend：当手指从屏幕上移开时触发。</li>
<li>touchcancel：当系统停止跟踪触摸时触发。关子此事件的确切触发时间，文档中没有明确说明。</li>
</ul>
<p>上面这几个事件都会冒泡，也都可以取消。虽然这些触摸事件没有在DOM规范中定义，但它们却是以兼容DOM的方式实现的。因此，每个触摸事件的event对象都提供了在鼠标事件中常见的属性：bubbles、cancelable、view、clientX、clientY、screenx、screenY、detail、altKey、shiftKey、ctrlKey和metaKey。</p>
<p>除了常见的DOM属性外，触摸事件还包含下列三个用于跟踪触摸的属性</p>
<ul>
<li>touches：表示当前跟踪的触摸操作的Touch对象的数组。</li>
<li>targetTouchs：特定于事件目标的Touch对象的数组。</li>
<li>changeTouches：表示自上次触摸以来发生了什么改变的Touch对象的数组。</li>
</ul>
<p>每个Touch对象包含下列属性。</p>
<ul>
<li>clientX：触摸目标在视口中的x坐标。</li>
<li>clientY：触摸目标在视IJ中的y坐标。</li>
<li>identifier：标识触摸的唯一ID。</li>
<li>pageX：触摸目标在页函中的x坐标。</li>
<li>pageY：触摸目标在页函中的y坐标。</li>
<li>screenX：触摸目标在屏幕中的x坐标。</li>
<li>screenY：触摸目标在屏幕中的y坐标。</li>
<li>target：触摸的DOM节点目标。</li>
</ul>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleTouchEvent</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">    <span class="comment">//只跟踪一次触摸 </span></span><br><span class="line">    <span class="keyword">if</span> (event.touches.length == <span class="number">1</span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> output = <span class="built_in">document</span>.getElementById(<span class="string">"output"</span>);</span><br><span class="line">        <span class="keyword">switch</span> (event.type) &#123;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">"touchstart"</span>:</span><br><span class="line">                output.innerHTML = <span class="string">"Touch started ("</span> + event.touches[<span class="number">0</span>].clientX + <span class="string">","</span> + event.touches[<span class="number">0</span>].clientY + <span class="string">")"</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">"touchend"</span>:</span><br><span class="line">                output.innerHTML += <span class="string">"&lt;br&gt;Touch ended ("</span> + event.changedTouches[<span class="number">0</span>].clientX + <span class="string">","</span> + event.changeTouches[<span class="number">0</span>].clientY + <span class="string">")"</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> <span class="string">"touchmove"</span>:</span><br><span class="line">                event.preventDefault(); <span class="comment">//阻止滚动 </span></span><br><span class="line">                output.innerHTML += <span class="string">"&lt;br&gt;Touch moved ("</span> + event.changedTouches[<span class="number">0</span>].clientX + <span class="string">","</span> + event.changedTouches[<span class="number">0</span>].clientY + <span class="string">")"</span>;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">"touchstart"</span>, handleTouchEvent, <span class="literal">false</span>);</span><br><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">"touchend"</span>, handleTouchEvent, <span class="literal">false</span>);</span><br><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">"touchmove"</span>, handleTouchEvent, <span class="literal">false</span>);</span><br></pre></td></tr></table></figure>
<p>当touchstart事件发生时。会将触摸的位置信息输出到元素中。当touchmove事件发生时，会取消其默认行为，阻止滚动（触摸移动的默认行为是滚动页面），然后输出触摸操作的变化信息。而touched事件则会输出有关触摸操作的最终信息。注意，在touched事件发生时，touched集合中就没有任何Touch对象了，因为不存在活动的触摸操作;此时，就必须转而使用changeTouchs集合。<br>这些事件会在文档的所有元素上面触发，因而可以分别操作页面的不同部分。在触摸屏幕上的元素时，这些事件发生的数序如下： </p>
<ul>
<li>1.touchstart </li>
<li>2.mouseover </li>
<li>3.mousemove </li>
<li>4.mousedown </li>
<li>5.mouseup </li>
<li>6.click</li>
<li>7.touchend </li>
</ul>
<h4 id="4-9-2-手势事件"><a href="#4-9-2-手势事件" class="headerlink" title="4.9.2 手势事件"></a>4.9.2 手势事件</h4><p>两个手指触摸屏幕时就会产生手势，手势通常会改变显示项的大小，或者旋转显示项。有三个手势事件，分别介绍如下。</p>
<ul>
<li>gesturestart：当一个手指已经按在屏幕上而另一个手指又触摸屏幕时触发。</li>
<li>gesturechange：当触摸屏幕的任何一个手指的位置发生变化时触发。</li>
<li>gestureend：当任何一个手指从屏幕上面移开时触发。</li>
</ul>
<p>只有两个手指都触摸到事件的接收容器时才会触发这些事件。在一个元素上设置事件处理程序，意味着两个手指必须同时位于该元素的范围之内，才能触发手势事件（这个元素就是目标）。 由于这些事件冒泡，所以将事件处理程序放在文档上也可以处理所有手势事件。此时，事件的目标就是两个手指都位于其范围内的那个元素。</p>
<p>触摸事件和手势事件之间存在某种关系。当一个手指放在屏幕上时，会触发touchstart事件。 如果另一个手指又放在了屏幕上，则会先触发gesturestart事件，随后触发基于该手指的touchstart事件。 如果一个或两个手指在屏幕上滑动，将会触发gesturechange事件。但只要有－个手指移开，就会触发gestureend事件，紧接着又会触发基于该手指的touchend事件。</p>
<p>触发gestureend事件，紧接着又会触发基于该手指的touchend事件。<br>与触摸事件一样，每个手势事件的 event 对象都包含着标准的鼠标事件属性：bubbles、cancelable、view、clientX、clientY、screenX、screenY、detail、altKey、shiftKey、ctrlKey和metaKey。此外，还包含两个额外的属性：rotation和scale。其中，rotation属性表示手指变化引起的旋转角度，负值表示逆时针旋转，正值表示顺时针旋转（该值从0开始）。而scale属性表示两个手指间距离的变化情况（例如向内收缩会缩短距离）；这个值从1开始，并随距离拉大而增长，随距离缩短而减小。</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">function</span> <span class="title">handleGestureEvent</span>(<span class="params">event</span>) </span>&#123;</span><br><span class="line">    <span class="keyword">var</span> output = <span class="built_in">document</span>.getElementById(<span class="string">"output"</span>);</span><br><span class="line">    <span class="keyword">switch</span> (event.type) &#123;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"gesturestart"</span>:</span><br><span class="line">            output.innerHTML = <span class="string">"Gesture started (rotation="</span> + event.ratation + <span class="string">",scale="</span> + event.scale + <span class="string">")"</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"gestureend"</span>:</span><br><span class="line">            output.innerHTML += <span class="string">"&lt;br&gt;Gesture ended (rotation+"</span> + event.rotation + <span class="string">",scale="</span> + event.scale + <span class="string">")"</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">        <span class="keyword">case</span> <span class="string">"gesturechange"</span>:</span><br><span class="line">            output.innerHTML += <span class="string">"&lt;br&gt;Gesture changed (rotation+="</span> + event.rotation + <span class="string">",scale+"</span> + event.scale + <span class="string">")"</span>;</span><br><span class="line">            <span class="keyword">break</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">"gesturestart"</span>, handleGestureEvent, <span class="literal">false</span>);</span><br><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">"gestureend"</span>, handleGestureEvent, <span class="literal">false</span>);</span><br><span class="line"><span class="built_in">document</span>.addEventListener(<span class="string">"gesturechange"</span>, handleGestureEvent, <span class="literal">false</span>);</span><br></pre></td></tr></table></figure>
<blockquote>
<p>触摸事件也会返回rotation和scale属性，但这两个属性只会在两个手指与屏幕保持接触时才会发生变化。一般来说，使用基于两个手指的手势事件，要比管理触摸事件中的所有交互要容易的多。</p>
</blockquote>
<p>温习：</p>
<ul>
<li>UI事件：load事件/unload事件、resize事件、scroll事件；</li>
<li>焦点事件：focus；</li>
<li>鼠标与滚轮事件：pageX/pageY、clientX/clientY、screenX/screenY、修改键、相关元素、鼠标按钮、滚轮事件、触摸事件；</li>
<li>键盘与文本事件：键码和字符编码的概念、textInput事件</li>
<li>复合事件：概念</li>
<li>变动事件：增/删节点</li>
<li>HTML5事件：contextmenu事件、beforeunload事件、DOMContentLoaded事件、readyetatecbange事件、pageshow和pagehide事件、hashchange事件</li>
<li>设备事件：orientationchange事件、MozOrientation 事件、deviceorientation 事件 、devicemotion 事件 </li>
<li>触摸与手势事件：触摸事件、手势事件</li>
</ul>
<p>（完）</p>
</div></article></div><div class="post-paginator"><div class="post-links"><div class="post-prev"><a href="/2018/05/19/ux_way/《UX设计之道》—5.业务需求/" class="prev">上一篇<span>《UX设计之道》—5.业务需求</span></a></div><div class="post-next"><a href="/2018/05/12/senior_javascript/重温《JavaScript高级程序设计》—15-事件（上）事件流、事件处理程序、事件对象/" class="next">下一篇<span>重温《JavaScript高级程序设计》—15.事件（上）事件流、事件处理程序、事件对象</span></a></div></div></div></div><div class="sidebar"><div class="social-links"><ul><li class="social-link"><a href="http://github.com/MichealWayne" target="_blank" class="link-github"><i class="icon icon-github"></i></a></li><li class="social-link"><a href="mailto:michealwayne@163.com" target="_self" class="link-mail"><i class="icon icon-mail"></i></a></li></ul></div><div class="recent-posts widget"><h3 class="widget-title"> 近期文章</h3><div class="widget-content"><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/2023/02/11/notes/【笔记】2022跨端及小程序的一些文章书籍等整理/">【笔记】2022 跨端及小程序的一些文章书籍等整理</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/01/15/notes/【笔记】StateOfJs2022中的ES语言特性/">【笔记】State Of Js2022中的ES语言特性</a></li><li class="post-list-item"><a class="post-list-link" href="/2023/01/02/notes/【笔记】《演进式架构》（三）/">【笔记】《演进式架构》学习笔记（三）</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/12/17/notes/【笔记】《演进式架构》（二）/">【笔记】《演进式架构》学习笔记（二）</a></li><li class="post-list-item"><a class="post-list-link" href="/2022/12/10/notes/【笔记】《演进式架构》（一）/">【笔记】《演进式架构》学习笔记（一）</a></li></ul></div></div><div class="recent-comment widget"><h3 class="widget-title"> Author</h3><div class="widget-content"><div class="m-author"><div class="u-avatar"><img src="data:image/jpeg;base64,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"></div><div class="u-author_tit"><p>My name is Micheal Wayne and this is my blog.<br>I am a front-end software engineer.<br>Contact: <a href="mailto:michealwayne@163.com"> <span>michealwayne@163.com</span></a></p></div></div></div></div><div class="tag-lists widget"><h3 class="widget-title"> 标签</h3><div class="widget-content"><ul class="tag-list"><li class="tag-list-item"><a class="tag-list-link" href="/tags/APM/">APM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BOM/">BOM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Bun/">Bun</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/DOM/">DOM</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/HTML/">HTML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/OKR/">OKR</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/React/">React</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UML/">UML</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/UX/">UX</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Vue/">Vue</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/WebSocket/">WebSocket</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Zepto/">Zepto</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/canvas/">canvas</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/css/">css</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/docker/">docker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/es6/">es6</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/eslint/">eslint</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/git/">git</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/h5/">h5</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/http/">http</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/jQuery/">jQuery</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/js/">js</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lerna/">lerna</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/lottie/">lottie</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nginx/">nginx</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/nodejs/">nodejs</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/prettier/">prettier</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/python/">python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/react/">react</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/serviceWorker/">serviceWorker</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/sketch/">sketch</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/skywalking/">skywalking</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/taro/">taro</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/tslint/">tslint</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/typescript/">typescript</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webApi/">webApi</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/webpack/">webpack</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/代码规范/">代码规范</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/前端/">前端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/动效/">动效</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/图形处理/">图形处理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/安全/">安全</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/小程序/">小程序</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/工具/">工具</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/工程/">工程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/微前端/">微前端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/思维逻辑/">思维逻辑</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/性能/">性能</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/架构/">架构</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/概念/">概念</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/浏览器/">浏览器</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/用户体验/">用户体验</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/笔记/">笔记</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/算法/">算法</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/编码/">编码</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/网络/">网络</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/网络协议/">网络协议</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/设计模式/">设计模式</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/调试/">调试</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/质量/">质量</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/跨端/">跨端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/软件工程/">软件工程</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/项目管理/">项目管理</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/高并发/">高并发</a></li></ul></div></div><div class="archive-lists widget"><h3 class="widget-title"> 归档</h3><div class="widget-content"><ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/02/">February 2023</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2023/01/">January 2023</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/12/">December 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/11/">November 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/10/">October 2022</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/09/">September 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/08/">August 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/07/">July 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/06/">June 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/05/">May 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/04/">April 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/03/">March 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/02/">February 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2022/01/">January 2022</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/12/">December 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/11/">November 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/10/">October 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/09/">September 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">August 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">July 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">June 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">May 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">April 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">March 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/02/">February 2021</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/01/">January 2021</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/12/">December 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/11/">November 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/10/">October 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/09/">September 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/08/">August 2020</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/07/">July 2020</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/06/">June 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/05/">May 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/04/">April 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/03/">March 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/02/">February 2020</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2020/01/">January 2020</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/12/">December 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/11/">November 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/10/">October 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/09/">September 2019</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/08/">August 2019</a><span class="archive-list-count">5</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/07/">July 2019</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/06/">June 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/05/">May 2019</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/04/">April 2019</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/03/">March 2019</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/02/">February 2019</a><span class="archive-list-count">2</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2019/01/">January 2019</a><span class="archive-list-count">13</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/12/">December 2018</a><span class="archive-list-count">3</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/11/">November 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/10/">October 2018</a><span class="archive-list-count">4</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/09/">September 2018</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/08/">August 2018</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/07/">July 2018</a><span class="archive-list-count">12</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/06/">June 2018</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/05/">May 2018</a><span class="archive-list-count">8</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/04/">April 2018</a><span class="archive-list-count">6</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/02/">February 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2018/01/">January 2018</a><span class="archive-list-count">1</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/12/">December 2017</a><span class="archive-list-count">7</span></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2017/11/">November 2017</a><span class="archive-list-count">5</span></li></ul></div></div></div></div></div><footer><div class="copyright"><div class="container"><div class="col-6"><div class="site-info">© 2016 - 2023 <a href="http://blog.michealwayne.cn">Micheal Wayne</a></div></div><div class="col-6"><div class="site-contact"><div class="social-links"><ul><li class="social-link"><a href="http://github.com/MichealWayne" target="_blank" class="link-github"><i class="icon icon-github"></i></a></li><li class="social-link"><a href="mailto:michealwayne@163.com" target="_self" class="link-mail"><i class="icon icon-mail"></i></a></li></ul></div></div></div></div></div></footer><a class="scroll-up"><span class="icon icon-up"></span></a><script src="https://code.jquery.com/jquery-3.1.0.min.js"></script><script src="/js/posfixed.js"></script><script src="/js/utils.js"></script><script src="/js/search.js"></script></body></html>